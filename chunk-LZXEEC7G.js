import{a as te}from"./chunk-RN3GEXIX.js";import{a as q,b as j,d as $,f as J,h as H,n as Q,o as X,p as Y,q as Z,r as K,u as ee}from"./chunk-SRZMZVDW.js";import{a as ie}from"./chunk-3WLDIF5C.js";import"./chunk-P5EFXTG7.js";import"./chunk-WMLYL4YD.js";import{b as U}from"./chunk-Q4FMGKSF.js";import{d as N,e as W,i as R,j as B,m as L,o as G}from"./chunk-NOCF4HQD.js";import{Aa as y,Ga as T,La as _,Wa as d,X as z,Xa as t,Y as p,Ya as n,Za as F,db as S,gb as u,hb as m,kb as v,mb as o,nb as g,ob as f,pb as w,qb as b,rb as A,sb as E,ua as r,xb as O,zb as D}from"./chunk-PE6PP35I.js";import"./chunk-X5YLR3NI.js";import{a as k,i as I}from"./chunk-ODN5LVDJ.js";function oe(l,i){l&1&&(t(0,"div",21),F(1,"span",22),o(2," Ricerca in corso... "),n())}function ae(l,i){if(l&1&&(t(0,"div",23),o(1),n()),l&2){let e=m(2);r(),g(e.searchError)}}function re(l,i){if(l&1){let e=S();t(0,"div",26),u("click",function(){let a=z(e).$implicit,s=m(3);return p(s.onSelectProspect(a))}),t(1,"div",27)(2,"div",28)(3,"strong"),o(4),n()(),t(5,"div",29),o(6),n()(),t(7,"div",30),o(8,"\u2795"),n()()}if(l&2){let e=i.$implicit;r(4),g(e.ragione_sociale),r(2),w(" ",e.email||"\u2014"," \u2022 ",e.telefono||"\u2014"," ")}}function le(l,i){if(l&1&&(t(0,"div",24),_(1,re,9,3,"div",25),O(2,"slice"),n()),l&2){let e=m(2);r(),d("ngForOf",D(2,1,e.searchResults,0,8))}}function ce(l,i){if(l&1&&(t(0,"div",31)(1,"i",32),o(2,"check_circle"),n(),o(3," Selezionato: "),t(4,"strong"),o(5),n()()),l&2){let e=m(2);r(5),g(e.selectedProspect.ragione_sociale)}}function se(l,i){l&1&&(t(0,"div",33)(1,"i",32),o(2,"history"),n(),o(3," Modifica configurazione esistente: le variazioni saranno tracciate in storico. "),n())}function me(l,i){if(l&1){let e=S();t(0,"section",5)(1,"div",6)(2,"i",7),o(3,"person_search"),n(),t(4,"div",8)(5,"h2",9),o(6,"Seleziona il Prospect"),n()()(),t(7,"div",10)(8,"label",11),o(9,"Cerca Prospect"),n(),t(10,"div",12)(11,"input",13),E("ngModelChange",function(a){z(e);let s=m();return A(s.queryProspect,a)||(s.queryProspect=a),p(a)}),u("input",function(){z(e);let a=m();return p(a.onSearchProspect(a.queryProspect))}),n(),_(12,oe,3,0,"div",14)(13,ae,2,1,"div",15)(14,le,3,5,"div",16),n(),_(15,ce,6,1,"div",17)(16,se,4,0,"div",18),n(),t(17,"div",19)(18,"button",20),u("click",function(){z(e);let a=m();return p(a.avanti())}),o(19," Inizia Configurazione "),n()()()}if(l&2){let e=m();r(11),b("ngModel",e.queryProspect),r(),d("ngIf",e.searchLoading),r(),d("ngIf",e.searchError),r(),d("ngIf",e.searchResults.length),r(),d("ngIf",e.selectedProspect),r(),d("ngIf",e.isModificaConfigurazione),r(),v("blocked",e.searchResults.length),r(),d("disabled",!e.selectedProspect||e.searchLoading)}}function de(l,i){if(l&1&&(t(0,"span",48),o(1),n()),l&2){let e=m().$implicit;r(),g(e.pacchetto)}}function ze(l,i){if(l&1){let e=S();t(0,"div",42),u("click",function(){let a=z(e).$implicit,s=m(2);return p(s.toggleServizio("immagine_marketing",a))}),t(1,"div",43)(2,"h4"),o(3),n(),t(4,"div",44),o(5),n()(),t(6,"p",45),o(7),n(),_(8,de,2,1,"span",46),t(9,"div",47)(10,"i",32),o(11,"check"),n()()()}if(l&2){let e=i.$implicit,c=m(2);v("selezionato",e.selezionato)("disabled",c.isServizioDisabled("immagine_marketing",e)),r(3),g(e.nome),r(2),f("",e.prezzo," \u20AC"),r(2),g(e.descrizione),r(),d("ngIf",e.pacchetto),r(),v("attivo",e.selezionato)}}function pe(l,i){if(l&1){let e=S();t(0,"div",42),u("click",function(){let a=z(e).$implicit,s=m(2);return p(s.toggleServizio("immagine_marketing",a))}),t(1,"div",43)(2,"h4"),o(3),n(),t(4,"div",44),o(5),n()(),t(6,"p",45),o(7),n(),t(8,"div",47)(9,"i",32),o(10,"check"),n()()()}if(l&2){let e=i.$implicit;v("selezionato",e.selezionato),r(3),g(e.nome),r(2),f("",e.prezzo," \u20AC"),r(2),g(e.descrizione),r(),v("attivo",e.selezionato)}}function ue(l,i){if(l&1){let e=S();t(0,"section",5)(1,"div",6)(2,"i",7),o(3,"brush"),n(),t(4,"div",8)(5,"h2",9),o(6,"Immagine & Marketing"),n(),t(7,"p",34),o(8,"Configura i servizi di branding e comunicazione"),n()()(),t(9,"h3",35),o(10,"Social Media Manager"),n(),t(11,"div",36),_(12,ze,12,10,"div",37),n(),t(13,"h3",35),o(14,"Servizi singoli"),n(),t(15,"div",36),_(16,pe,11,7,"div",38),n(),t(17,"div",39)(18,"strong"),o(19),n()(),t(20,"div",19)(21,"button",40),u("click",function(){z(e);let a=m();return p(a.indietro())}),o(22,"Indietro"),n(),t(23,"button",41),u("click",function(){z(e);let a=m();return p(a.avanti())}),o(24,"Continua"),n()()()}if(l&2){let e=m();r(12),d("ngForOf",e.getServiziPacchetto("immagine_marketing")),r(4),d("ngForOf",e.getServiziSingoli("immagine_marketing")),r(3),f("Totale modulo: ",e.moduli.immagine_marketing.totale," \u20AC")}}function _e(l,i){if(l&1&&(t(0,"span",48),o(1),n()),l&2){let e=m().$implicit;r(),g(e.pacchetto)}}function ge(l,i){if(l&1){let e=S();t(0,"div",42),u("click",function(){let a=z(e).$implicit,s=m(2);return p(s.toggleServizio("digitalizzazione_automatismi",a))}),t(1,"div",43)(2,"h4"),o(3),n(),t(4,"div",44),o(5),n()(),t(6,"p",45),o(7),n(),_(8,_e,2,1,"span",46),t(9,"div",47)(10,"i",32),o(11,"check"),n()()()}if(l&2){let e=i.$implicit,c=m(2);v("selezionato",e.selezionato)("disabled",c.isServizioDisabled("digitalizzazione_automatismi",e)),r(3),g(e.nome),r(2),f("",e.prezzo," \u20AC"),r(2),g(e.descrizione),r(),d("ngIf",e.pacchetto),r(),v("attivo",e.selezionato)}}function ve(l,i){if(l&1){let e=S();t(0,"div",42),u("click",function(){let a=z(e).$implicit,s=m(2);return p(s.toggleServizio("digitalizzazione_automatismi",a))}),t(1,"div",43)(2,"h4"),o(3),n(),t(4,"div",44),o(5),n()(),t(6,"p",45),o(7),n(),t(8,"div",47)(9,"i",32),o(10,"check"),n()()()}if(l&2){let e=i.$implicit;v("selezionato",e.selezionato),r(3),g(e.nome),r(2),f("",e.prezzo," \u20AC"),r(2),g(e.descrizione),r(),v("attivo",e.selezionato)}}function fe(l,i){if(l&1){let e=S();t(0,"section",5)(1,"div",6)(2,"i",7),o(3,"memory"),n(),t(4,"div",8)(5,"h2",9),o(6,"Digitalizzazione & Automatismi"),n(),t(7,"p",34),o(8,"Configura i servizi digitali e di automazione"),n()()(),t(9,"h3",35),o(10,"Sito"),n(),t(11,"div",36),_(12,ge,12,10,"div",37),n(),t(13,"h3",35),o(14,"Servizi singoli"),n(),t(15,"div",36),_(16,ve,11,7,"div",38),n(),t(17,"div",39)(18,"strong"),o(19),n()(),t(20,"div",19)(21,"button",40),u("click",function(){z(e);let a=m();return p(a.indietro())}),o(22,"Indietro"),n(),t(23,"button",41),u("click",function(){z(e);let a=m();return p(a.avanti())}),o(24,"Continua"),n()()()}if(l&2){let e=m();r(12),d("ngForOf",e.getServiziPacchetto("digitalizzazione_automatismi")),r(4),d("ngForOf",e.getServiziSingoli("digitalizzazione_automatismi")),r(3),f("Totale modulo: ",e.moduli.digitalizzazione_automatismi.totale," \u20AC")}}function he(l,i){if(l&1){let e=S();t(0,"div",83),u("click",function(){let a=z(e).$implicit,s=m(3);return p(s.isServizioContabilitaAbilitato(a)&&s.toggleServizioContabilita(a))}),t(1,"div",43)(2,"h4",53),o(3),n(),t(4,"div",54),o(5),n()(),t(6,"p",45),o(7),n(),t(8,"div",47)(9,"i",32),o(10,"check"),n()()()}if(l&2){let e=i.$implicit,c=m(3);v("selezionato",e.selezionato)("disabled",!c.isServizioContabilitaAbilitato(e)),r(3),g(e.nome),r(2),f("",e.prezzo," \u20AC"),r(2),g(e.descrizione),r(),v("attivo",e.selezionato)}}function Ce(l,i){if(l&1&&(t(0,"div",81)(1,"div",36),_(2,he,11,9,"div",82),n()()),l&2){let e=m(2);r(2),d("ngForOf",e.getServiziByCategoria("Costituzione"))}}function xe(l,i){l&1&&(t(0,"span"),o(1," Fino a 90 registrazioni: 1.421\u20AC "),n())}function Se(l,i){l&1&&(t(0,"span"),o(1," Fino a 180 registrazioni: 1.811\u20AC "),n())}function be(l,i){l&1&&(t(0,"span"),o(1," Fino a 360 registrazioni: 2.805\u20AC "),n())}function Ae(l,i){if(l&1&&(t(0,"span"),o(1),n()),l&2){let e=m(4);r(),w(" Oltre 360 registrazioni: 2.805\u20AC + (",e.configurazioniContabilita.contabilita.registrazioni-360," \xD7 2\u20AC) = ",e.configurazioniContabilita.contabilita.prezzoCalcolato,"\u20AC ")}}function Ee(l,i){if(l&1&&(t(0,"div"),_(1,xe,2,0,"span",85)(2,Se,2,0,"span",85)(3,be,2,0,"span",85)(4,Ae,2,2,"span",85),n()),l&2){let e=m(3);r(),d("ngIf",e.configurazioniContabilita.contabilita.registrazioni<=90),r(),d("ngIf",e.configurazioniContabilita.contabilita.registrazioni>90&&e.configurazioniContabilita.contabilita.registrazioni<=180),r(),d("ngIf",e.configurazioniContabilita.contabilita.registrazioni>180&&e.configurazioniContabilita.contabilita.registrazioni<=360),r(),d("ngIf",e.configurazioniContabilita.contabilita.registrazioni>360)}}function Ie(l,i){l&1&&(t(0,"span"),o(1," Fino a 600 registrazioni: 3.276\u20AC "),n())}function ye(l,i){if(l&1&&(t(0,"span"),o(1),n()),l&2){let e=m(4);r(),w(" Oltre 600 registrazioni: 3.276\u20AC + (",e.configurazioniContabilita.contabilita.registrazioni-600," \xD7 3.38\u20AC) = ",e.configurazioniContabilita.contabilita.prezzoCalcolato,"\u20AC ")}}function we(l,i){if(l&1&&(t(0,"div"),_(1,Ie,2,0,"span",85)(2,ye,2,2,"span",85),n()),l&2){let e=m(3);r(),d("ngIf",e.configurazioniContabilita.contabilita.registrazioni<=600),r(),d("ngIf",e.configurazioniContabilita.contabilita.registrazioni>600)}}function Pe(l,i){l&1&&(t(0,"span"),o(1," Fino a 600 registrazioni: 2.644\u20AC "),n())}function Ve(l,i){if(l&1&&(t(0,"span"),o(1),n()),l&2){let e=m(4);r(),w(" Oltre 600 registrazioni: 2.644\u20AC + (",e.configurazioniContabilita.contabilita.registrazioni-600," \xD7 3.38\u20AC) = ",e.configurazioniContabilita.contabilita.prezzoCalcolato,"\u20AC ")}}function Me(l,i){if(l&1&&(t(0,"div"),_(1,Pe,2,0,"span",85)(2,Ve,2,2,"span",85),n()),l&2){let e=m(3);r(),d("ngIf",e.configurazioniContabilita.contabilita.registrazioni<=600),r(),d("ngIf",e.configurazioniContabilita.contabilita.registrazioni>600)}}function ke(l,i){if(l&1&&(t(0,"div",84)(1,"strong"),o(2,"Dettaglio calcolo:"),n(),_(3,Ee,5,4,"div",85)(4,we,3,2,"div",85)(5,Me,3,2,"div",85),n()),l&2){let e=m(2);r(3),d("ngIf",e.configurazioniContabilita.contabilita.tipo==="semplificata"),r(),d("ngIf",e.configurazioniContabilita.contabilita.tipo==="ordinaria"),r(),d("ngIf",e.configurazioniContabilita.contabilita.tipo==="mista")}}function Te(l,i){if(l&1){let e=S();t(0,"div",42),u("click",function(){let a=z(e).$implicit,s=m(2);return p(s.toggleServizioContabilita(a))}),t(1,"div",43)(2,"h4"),o(3),n(),t(4,"div",44),o(5),n()(),t(6,"p",45),o(7),n(),t(8,"div",47)(9,"i",32),o(10,"check"),n()()()}if(l&2){let e=i.$implicit;v("selezionato",e.selezionato),r(3),g(e.nome),r(2),f("",e.prezzo," \u20AC"),r(2),g(e.descrizione),r(),v("attivo",e.selezionato)}}function Fe(l,i){if(l&1){let e=S();t(0,"section",5)(1,"div",6)(2,"i",7),o(3,"calculate"),n(),t(4,"div",8)(5,"h2",9),o(6,"Contabilit\xE0 e Fiscalit\xE0"),n(),t(7,"p",34),o(8,"Configura i servizi contabili e fiscali in base alle tue esigenze"),n()()(),t(9,"div",49)(10,"div",50)(11,"h3",9),o(12,"Costituzione Azienda"),n(),t(13,"div",51)(14,"div",52),u("click",function(){z(e);let a=m();return p(a.toggleServizioContabilita(a.moduli.contabilita_fiscalita.servizi[0]))}),t(15,"div",53)(16,"div",43)(17,"h4",53),o(18,"Costituzione Azienda"),n(),t(19,"div",54),o(20,"Configurabile"),n()()(),t(21,"p",45),o(22,"Servizi di costituzione aziendale - Seleziona per attivare i servizi specifici"),n(),t(23,"div",47)(24,"i",32),o(25,"check"),n()()(),_(26,Ce,3,1,"div",55),n()(),t(27,"div",50)(28,"h3",9),o(29,"Contabilit\xE0"),n(),t(30,"div",56)(31,"div",57)(32,"h4",53),o(33,"Configurazione Contabilit\xE0"),n(),t(34,"div",58),o(35),n()(),t(36,"div",59)(37,"div",60)(38,"label",11),o(39,"Tipo di Contabilit\xE0:"),n(),t(40,"select",61),E("ngModelChange",function(a){z(e);let s=m();return A(s.configurazioniContabilita.contabilita.tipo,a)||(s.configurazioniContabilita.contabilita.tipo=a),p(a)}),u("change",function(){z(e);let a=m();return p(a.calcolaPrezzoContabilita())}),t(41,"option",62),o(42,"Semplificata (fino a 90: 1421\u20AC, 90-180: 1811\u20AC, 180-360: 2805\u20AC, oltre 360: 2805\u20AC + 2\u20AC/registrazione) "),n(),t(43,"option",63),o(44,"Ordinaria (fino a 600: 3276\u20AC, oltre 600: 3276\u20AC + 3.38\u20AC/registrazione) "),n(),t(45,"option",64),o(46,"Mista (fino a 600: 2644\u20AC, oltre 600: 2644\u20AC + 3.38\u20AC/registrazione) "),n()()(),t(47,"div",60)(48,"label",11),o(49,"Numero Registrazioni Annuali:"),n(),t(50,"input",65),E("ngModelChange",function(a){z(e);let s=m();return A(s.configurazioniContabilita.contabilita.registrazioni,a)||(s.configurazioniContabilita.contabilita.registrazioni=a),p(a)}),u("change",function(){z(e);let a=m();return p(a.calcolaPrezzoContabilita())}),n()(),_(51,ke,6,3,"div",66),n()()(),t(52,"div",50)(53,"h3",9),o(54,"Fatturazione"),n(),t(55,"div",56)(56,"div",57)(57,"h4",53),o(58,"Configurazione Fatturazione"),n(),t(59,"div",58),o(60),n()(),t(61,"div",59)(62,"div",60)(63,"label",11),o(64,"Tipo di Fatturazione:"),n(),t(65,"select",61),E("ngModelChange",function(a){z(e);let s=m();return A(s.configurazioniContabilita.fatturazione.tipo,a)||(s.configurazioniContabilita.fatturazione.tipo=a),p(a)}),u("change",function(){z(e);let a=m();return p(a.calcolaPrezzoFatturazione())}),t(66,"option",67),o(67,"Emissione da parte nostra (25\u20AC/fattura)"),n(),t(68,"option",68),o(69,"Piattaforma PassCom (4\u20AC/fattura)"),n()()(),t(70,"div",60)(71,"label",11),o(72,"Numero Fatture Annuali:"),n(),t(73,"input",69),E("ngModelChange",function(a){z(e);let s=m();return A(s.configurazioniContabilita.fatturazione.numeroFatture,a)||(s.configurazioniContabilita.fatturazione.numeroFatture=a),p(a)}),u("change",function(){z(e);let a=m();return p(a.calcolaPrezzoFatturazione())}),n()()()()(),t(74,"div",50)(75,"h3",9),o(76,"IVA"),n(),t(77,"div",56)(78,"div",57)(79,"h4",53),o(80,"Configurazione Servizi IVA"),n(),t(81,"div",58),o(82),n()(),t(83,"div",59)(84,"div",60)(85,"label",11),o(86,"Liquidazione IVA:"),n(),t(87,"select",61),E("ngModelChange",function(a){z(e);let s=m();return A(s.configurazioniContabilita.iva.liquidazione,a)||(s.configurazioniContabilita.iva.liquidazione=a),p(a)}),u("change",function(){z(e);let a=m();return p(a.calcolaPrezzoIVA())}),t(88,"option",70),o(89,"Trimestrale"),n(),t(90,"option",71),o(91,"Mensile"),n()()(),t(92,"div",60)(93,"label",11),o(94,"LIPE:"),n(),t(95,"select",61),E("ngModelChange",function(a){z(e);let s=m();return A(s.configurazioniContabilita.iva.lipe,a)||(s.configurazioniContabilita.iva.lipe=a),p(a)}),u("change",function(){z(e);let a=m();return p(a.calcolaPrezzoIVA())}),t(96,"option",70),o(97,"Trimestrale"),n(),t(98,"option",71),o(99,"Mensile"),n()()(),t(100,"div",60)(101,"label",11),o(102,"Volume d'Affari per Dichiarazione Annuale:"),n(),t(103,"select",61),E("ngModelChange",function(a){z(e);let s=m();return A(s.configurazioniContabilita.iva.volumeAffari,a)||(s.configurazioniContabilita.iva.volumeAffari=a),p(a)}),u("change",function(){z(e);let a=m();return p(a.calcolaPrezzoIVA())}),t(104,"option",72),o(105,"Fino a 75.000\u20AC"),n(),t(106,"option",73),o(107,"75.001-150.000\u20AC"),n(),t(108,"option",74),o(109,"150.001-300.000\u20AC"),n(),t(110,"option",75),o(111,"300.001-500.000\u20AC"),n(),t(112,"option",76),o(113,"500.001-750.000\u20AC"),n(),t(114,"option",77),o(115,"Oltre 750.000\u20AC"),n()()(),t(116,"div",78)(117,"label")(118,"input",79),E("ngModelChange",function(a){z(e);let s=m();return A(s.configurazioniContabilita.iva.vistoConformita,a)||(s.configurazioniContabilita.iva.vistoConformita=a),p(a)}),u("change",function(){z(e);let a=m();return p(a.calcolaPrezzoIVA())}),n(),o(119," Visto di Conformit\xE0 "),n()(),t(120,"div",78)(121,"label")(122,"input",79),E("ngModelChange",function(a){z(e);let s=m();return A(s.configurazioniContabilita.iva.modelloIVATR,a)||(s.configurazioniContabilita.iva.modelloIVATR=a),p(a)}),u("change",function(){z(e);let a=m();return p(a.calcolaPrezzoIVA())}),n(),o(123," Modello IVA TR "),n()(),t(124,"div",78)(125,"label")(126,"input",79),E("ngModelChange",function(a){z(e);let s=m();return A(s.configurazioniContabilita.iva.intrastat,a)||(s.configurazioniContabilita.iva.intrastat=a),p(a)}),u("change",function(){z(e);let a=m();return p(a.calcolaPrezzoIVA())}),n(),o(127," Intrastat "),n()()()()(),t(128,"div",50)(129,"h3",80),o(130,"Altri Servizi"),n(),t(131,"div",36),_(132,Te,11,7,"div",38),n()()(),t(133,"div",39)(134,"strong"),o(135),n()(),t(136,"div",19)(137,"button",40),u("click",function(){z(e);let a=m();return p(a.indietro())}),o(138,"Indietro"),n(),t(139,"button",41),u("click",function(){z(e);let a=m();return p(a.avanti())}),o(140,"Continua"),n()()()}if(l&2){let e=m();r(14),v("active",e.configurazioniContabilita.costituzione.attivo),r(9),v("attivo",e.configurazioniContabilita.costituzione.attivo),r(3),d("ngIf",e.configurazioniContabilita.costituzione.attivo),r(9),f("",e.configurazioniContabilita.contabilita.prezzoCalcolato," \u20AC"),r(5),b("ngModel",e.configurazioniContabilita.contabilita.tipo),r(10),b("ngModel",e.configurazioniContabilita.contabilita.registrazioni),r(),d("ngIf",e.configurazioniContabilita.contabilita.prezzoCalcolato>0),r(9),f("",e.configurazioniContabilita.fatturazione.prezzoCalcolato," \u20AC"),r(5),b("ngModel",e.configurazioniContabilita.fatturazione.tipo),r(8),b("ngModel",e.configurazioniContabilita.fatturazione.numeroFatture),r(9),f("",e.configurazioniContabilita.iva.prezzoCalcolato," \u20AC"),r(5),b("ngModel",e.configurazioniContabilita.iva.liquidazione),r(8),b("ngModel",e.configurazioniContabilita.iva.lipe),r(8),b("ngModel",e.configurazioniContabilita.iva.volumeAffari),r(15),b("ngModel",e.configurazioniContabilita.iva.vistoConformita),r(4),b("ngModel",e.configurazioniContabilita.iva.modelloIVATR),r(4),b("ngModel",e.configurazioniContabilita.iva.intrastat),r(6),d("ngForOf",e.getServiziByCategoria("Altri Servizi")),r(3),f("Totale modulo: ",e.moduli.contabilita_fiscalita.totale," \u20AC")}}function Oe(l,i){if(l&1&&(t(0,"span",48),o(1),n()),l&2){let e=m().$implicit;r(),g(e.pacchetto)}}function De(l,i){if(l&1){let e=S();t(0,"div",87),u("click",function(){let a=z(e).$implicit,s=m(2);return p(s.toggleServizio("ottimizzazione_management",a))}),t(1,"div",43)(2,"h4"),o(3),n(),t(4,"div",44),o(5),n()(),t(6,"p",45),o(7),n(),_(8,Oe,2,1,"span",46),t(9,"div",47)(10,"i",32),o(11,"check"),n()()()}if(l&2){let e=i.$implicit,c=m(2);v("selezionato",e.selezionato)("disabled",c.isServizioDisabled("ottimizzazione_management",e)),d("hidden",!e.id.startsWith("consulenza_impresa_")),r(3),g(e.nome),r(2),f("",e.prezzo," \u20AC"),r(2),g(e.descrizione),r(),d("ngIf",e.pacchetto),r(),v("attivo",e.selezionato)}}function Ne(l,i){if(l&1&&(t(0,"span",48),o(1),n()),l&2){let e=m().$implicit;r(),g(e.pacchetto)}}function We(l,i){if(l&1){let e=S();t(0,"div",87),u("click",function(){let a=z(e).$implicit,s=m(2);return p(s.toggleServizio("ottimizzazione_management",a))}),t(1,"div",43)(2,"h4"),o(3),n(),t(4,"div",44),o(5),n()(),t(6,"p",45),o(7),n(),_(8,Ne,2,1,"span",46),t(9,"div",47)(10,"i",32),o(11,"check"),n()()()}if(l&2){let e=i.$implicit,c=m(2);v("selezionato",e.selezionato)("disabled",c.isServizioDisabled("ottimizzazione_management",e)),d("hidden",!e.id.startsWith("formazione_commerciale_")),r(3),g(e.nome),r(2),f("",e.prezzo," \u20AC"),r(2),g(e.descrizione),r(),d("ngIf",e.pacchetto),r(),v("attivo",e.selezionato)}}function Re(l,i){if(l&1){let e=S();t(0,"div",42),u("click",function(){let a=z(e).$implicit,s=m(2);return p(s.toggleServizio("ottimizzazione_management",a))}),t(1,"div",43)(2,"h4"),o(3),n(),t(4,"div",44),o(5),n()(),t(6,"p",45),o(7),n(),t(8,"div",47)(9,"i",32),o(10,"check"),n()()()}if(l&2){let e=i.$implicit;v("selezionato",e.selezionato),r(3),g(e.nome),r(2),f("",e.prezzo," \u20AC"),r(2),g(e.descrizione),r(),v("attivo",e.selezionato)}}function Be(l,i){if(l&1){let e=S();t(0,"section",5)(1,"div",6)(2,"i",7),o(3,"tune"),n(),t(4,"div",8)(5,"h2",9),o(6,"Ottimizzazione e Management"),n(),t(7,"p",34),o(8,"Configura i servizi di ottimizzazione"),n()()(),t(9,"h3",35),o(10,"Pacchetti \u2014 Consulenze di Impresa"),n(),t(11,"div",36),_(12,De,12,11,"div",86),n(),t(13,"h3",35),o(14,"Pacchetti \u2014 Formazione Commerciale"),n(),t(15,"div",36),_(16,We,12,11,"div",86),n(),t(17,"h3",35),o(18,"Servizi singoli"),n(),t(19,"div",36),_(20,Re,11,7,"div",38),n(),t(21,"div",39)(22,"strong"),o(23),n()(),t(24,"div",19)(25,"button",40),u("click",function(){z(e);let a=m();return p(a.indietro())}),o(26,"Indietro"),n(),t(27,"button",41),u("click",function(){z(e);let a=m();return p(a.avanti())}),o(28,"Vedi Riepilogo"),n()()()}if(l&2){let e=m();r(12),d("ngForOf",e.getServiziPacchetto("ottimizzazione_management")),r(4),d("ngForOf",e.getServiziPacchetto("ottimizzazione_management")),r(4),d("ngForOf",e.getServiziSingoli("ottimizzazione_management")),r(3),f("Totale modulo: ",e.moduli.ottimizzazione_management.totale," \u20AC")}}function Le(l,i){if(l&1&&(t(0,"div",31)(1,"i",32),o(2,"business"),n(),o(3," Prospect: "),t(4,"strong"),o(5),n()()),l&2){let e=m(2);r(5),g(e.selectedProspect.ragione_sociale)}}function Ge(l,i){if(l&1&&(t(0,"div",96)(1,"div",97)(2,"span",98),o(3,"\u2713"),n(),t(4,"span",99),o(5),n()(),t(6,"div",100),o(7),n()()),l&2){let e=i.$implicit;r(5),g(e.nome),r(2),f("",e.prezzo," \u20AC")}}function Ue(l,i){if(l&1&&(t(0,"div",92)(1,"h4"),o(2,"Immagine & Marketing"),n(),t(3,"div",93),_(4,Ge,8,2,"div",94),n(),t(5,"div",95),o(6),n()()),l&2){let e=m(2);r(4),d("ngForOf",e.getServiziSelezionatiModulo("immagine_marketing")),r(2),f("Totale: ",e.moduli.immagine_marketing.totale," \u20AC")}}function qe(l,i){if(l&1&&(t(0,"div",96)(1,"div",97)(2,"span",101),o(3,"\u2713"),n(),t(4,"span",99),o(5),n()(),t(6,"div",100),o(7),n()()),l&2){let e=i.$implicit;r(5),g(e.nome),r(2),f("",e.prezzo," \u20AC")}}function je(l,i){if(l&1&&(t(0,"div",92)(1,"h4"),o(2,"Digitalizzazione & Automatismi"),n(),t(3,"div",93),_(4,qe,8,2,"div",94),n(),t(5,"div",95),o(6),n()()),l&2){let e=m(2);r(4),d("ngForOf",e.getServiziSelezionatiModulo("digitalizzazione_automatismi")),r(2),f("Totale: ",e.moduli.digitalizzazione_automatismi.totale," \u20AC")}}function $e(l,i){if(l&1&&(t(0,"div",96)(1,"div",97)(2,"span",102),o(3,"\u2713"),n(),t(4,"span",99),o(5),n()(),t(6,"div",100),o(7),n()()),l&2){let e=i.$implicit;r(5),g(e.nome),r(2),f("",e.prezzo," \u20AC")}}function Je(l,i){if(l&1&&(t(0,"div",92)(1,"h4"),o(2,"Contabilit\xE0 e Fiscalit\xE0"),n(),t(3,"div",93),_(4,$e,8,2,"div",94),n(),t(5,"div",95),o(6),n()()),l&2){let e=m(2);r(4),d("ngForOf",e.getServiziSelezionatiModulo("contabilita_fiscalita")),r(2),f("Totale: ",e.moduli.contabilita_fiscalita.totale," \u20AC")}}function He(l,i){if(l&1&&(t(0,"div",96)(1,"div",97)(2,"span",98),o(3,"\u2713"),n(),t(4,"span",99),o(5),n()(),t(6,"div",100),o(7),n()()),l&2){let e=i.$implicit;r(5),g(e.nome),r(2),f("",e.prezzo," \u20AC")}}function Qe(l,i){if(l&1&&(t(0,"div",92)(1,"h4"),o(2,"Ottimizzazione e Management"),n(),t(3,"div",93),_(4,He,8,2,"div",94),n(),t(5,"div",95),o(6),n()()),l&2){let e=m(2);r(4),d("ngForOf",e.getServiziSelezionatiModulo("ottimizzazione_management")),r(2),f("Totale: ",e.moduli.ottimizzazione_management.totale," \u20AC")}}function Xe(l,i){if(l&1){let e=S();t(0,"button",103),u("click",function(){z(e);let a=m(2);return p(a.salvaConfigurazione())}),t(1,"i",32),o(2,"save"),n(),o(3," Salva Configurazione "),n()}}function Ye(l,i){if(l&1){let e=S();t(0,"section",5)(1,"div",6)(2,"i",7),o(3,"receipt_long"),n(),t(4,"div",8)(5,"h2",9),o(6,"Riepilogo Configurazione"),n()()(),t(7,"div",10),_(8,Le,6,1,"div",17),t(9,"div",36),_(10,Ue,7,2,"div",88)(11,je,7,2,"div",88)(12,Je,7,2,"div",88)(13,Qe,7,2,"div",88),n(),t(14,"div",89)(15,"h3"),o(16),n()()(),t(17,"div",19)(18,"button",40),u("click",function(){z(e);let a=m();return p(a.indietro())}),o(19,"Modifica"),n(),_(20,Xe,4,0,"button",90),t(21,"button",91),u("click",function(){z(e);let a=m();return p(a.procediPerFirme())}),t(22,"i",32),o(23,"assignment_turned_in"),n(),o(24),n()()()}if(l&2){let e=m();r(8),d("ngIf",e.selectedProspect),r(2),d("ngIf",e.moduli.immagine_marketing.totale>0),r(),d("ngIf",e.moduli.digitalizzazione_automatismi.totale>0),r(),d("ngIf",e.moduli.contabilita_fiscalita.totale>0),r(),d("ngIf",e.moduli.ottimizzazione_management.totale>0),r(3),f("Totale Generale: ",e.totaleGenerale," \u20AC"),r(4),d("ngIf",!e.isCliente),r(),d("disabled",!e.selectedProspect||e.totaleGenerale===0),r(3),f(" ",e.isProspect?"Procedi per le Firme":"Aggiorna Configurazione"," ")}}function Ze(l,i){if(l&1){let e=S();t(0,"div",96)(1,"div",97)(2,"strong"),o(3),n(),t(4,"div",111),o(5),n()(),t(6,"div",112)(7,"button",113),u("click",function(){let a=z(e).index,s=m(3);return p(s.rimuoviNominativo(a))}),t(8,"i",32),o(9,"delete"),n()()()()}if(l&2){let e=i.$implicit;r(3),g(e.nome),r(2),w(" ",e.telefono||"\u2014"," \u2022 ",e.email||"\u2014"," ")}}function Ke(l,i){if(l&1&&(t(0,"div",110)(1,"h3",9),o(2),n(),t(3,"div",93),_(4,Ze,10,3,"div",94),n()()),l&2){let e=m(2);r(2),f("Nominativi Inseriti (",e.nominativi.length,")"),r(2),d("ngForOf",e.nominativi)}}function ei(l,i){if(l&1){let e=S();t(0,"section",5)(1,"h2"),o(2,"Inserisci i Nominativi Ottenuti"),n(),t(3,"p",34),o(4,"Aggiungi i contatti ottenuti dalla trattativa. Saranno creati come nuovi prospect."),n(),t(5,"div",104)(6,"div",105)(7,"div",60)(8,"label",11),o(9,"Nome completo *"),n(),t(10,"input",106),E("ngModelChange",function(a){z(e);let s=m();return A(s.nuovoNominativo.nome,a)||(s.nuovoNominativo.nome=a),p(a)}),n()(),t(11,"div",60)(12,"label",11),o(13,"Telefono"),n(),t(14,"input",107),E("ngModelChange",function(a){z(e);let s=m();return A(s.nuovoNominativo.telefono,a)||(s.nuovoNominativo.telefono=a),p(a)}),n()(),t(15,"div",60)(16,"label",11),o(17,"Email"),n(),t(18,"input",108),E("ngModelChange",function(a){z(e);let s=m();return A(s.nuovoNominativo.email,a)||(s.nuovoNominativo.email=a),p(a)}),n()()(),t(19,"div",19)(20,"button",41),u("click",function(){z(e);let a=m();return p(a.aggiungiNominativo())}),t(21,"i",32),o(22,"add"),n(),o(23," Aggiungi Nominativo "),n()()(),_(24,Ke,5,2,"div",109),t(25,"div",19)(26,"button",40),u("click",function(){z(e);let a=m();return a.pendingFirmeProcess=!1,p(a.indietro())}),o(27,"Indietro"),n(),t(28,"button",20),u("click",function(){z(e);let a=m();return p(a.procediPerFirme())}),o(29,"Procedi"),n()()()}if(l&2){let e=m();r(10),b("ngModel",e.nuovoNominativo.nome),r(4),b("ngModel",e.nuovoNominativo.telefono),r(4),b("ngModel",e.nuovoNominativo.email),r(6),d("ngIf",e.nominativi.length>0),r(4),d("disabled",!e.selectedProspect)}}var ne=class l{constructor(i,e,c,a,s){this.soggettiService=i;this.alchemizzatoreService=e;this.router=c;this.route=a;this.supabaseService=s}currentStep=1;totaleSteps=7;queryProspect="";searchResults=[];searchLoading=!1;searchError=null;selectedProspect=null;nominativi=[];nuovoNominativo={nome:"",telefono:"",email:""};pendingFirmeProcess=!1;currentConfigurazioneId=null;previousConfigurazione=null;configurazioneCorrenteId=null;moduli={immagine_marketing:{nome:"Immagine & Marketing",servizi:[{id:"creazione_logo",nome:"Creazione del Logo",prezzo:300,selezionato:!1,descrizione:"Design professionale del logo aziendale"},{id:"creazione_brand",nome:"Creazione del Brand (include logo)",prezzo:800,selezionato:!1,descrizione:"Identit\xE0 visiva completa: logo, palette colori, typography"},{id:"social_2_post",nome:"Gestione Social Media (2 post/settimana)",prezzo:400,selezionato:!1,pacchetto:"base",descrizione:"2 post settimanali su Facebook e Instagram"},{id:"social_3_post",nome:"Gestione Social Media (3 post/settimana)",prezzo:600,selezionato:!1,pacchetto:"avanzato",descrizione:"3 post settimanali su Facebook, Instagram e LinkedIn"},{id:"social_5_post",nome:"Gestione Social Media (5 post/settimana)",prezzo:800,selezionato:!1,pacchetto:"premium",descrizione:"5 post settimanali su tutti i social + stories"},{id:"servizio_fotografico",nome:"Servizio Fotografico",prezzo:500,selezionato:!1,descrizione:"Servizio fotografico professionale per prodotti/azienda"}],totale:0},digitalizzazione_automatismi:{nome:"Digitalizzazione & Automatismi",servizi:[{id:"landing_page",nome:"Landing Page",prezzo:1e3,selezionato:!1,pacchetto:"base",descrizione:"Pagina di destinazione ottimizzata per conversioni"},{id:"sito_completo",nome:"Sito Web Completo",prezzo:2e3,selezionato:!1,pacchetto:"avanzato",descrizione:"Sito web responsive"},{id:"sito_pro",nome:"Sito Web Pro",prezzo:3500,selezionato:!1,pacchetto:"premium",descrizione:"Sito web avanzato con funzionalit\xE0 personalizzate"},{id:"software_personalizzato",nome:"Software Personalizzato",prezzo:0,selezionato:!1,descrizione:"Richiesta di valutazione per software su misura"},{id:"consulenza_digitale",nome:"Consulenza Digitale",prezzo:300,selezionato:!1,descrizione:"Consulenza per mailing list, automazioni e digital strategy"}],totale:0},contabilita_fiscalita:{nome:"Contabilit\xE0 e Fiscalit\xE0",servizi:[{id:"costituzione_principale",nome:"Costituzione Azienda",prezzo:0,selezionato:!1,categoria:"Costituzione",descrizione:"Servizi di costituzione aziendale - Seleziona per attivare i servizi specifici",tipo:"gruppo"},{id:"cost_assic_redazione",nome:"Assistenza redazione atto costitutivo e Statuto",prezzo:150,selezionato:!1,categoria:"Costituzione",descrizione:"Assistenza redazione atto costitutivo e Statuto (oltre costo notaio e spese accessorie notaio)",tipo:"fisso",dipendeDa:"costituzione_principale"},{id:"cost_apertura_piva",nome:"Apertura partita IVA",prezzo:100,selezionato:!1,categoria:"Costituzione",descrizione:"Apertura partita IVA",tipo:"fisso",dipendeDa:"costituzione_principale"},{id:"cost_cciaa_no_scia",nome:"Pratica CCIAA senza SCIA",prezzo:80,selezionato:!1,categoria:"Costituzione",descrizione:"Pratica CCIAA per comunicazione attivit\xE0 (senza SCIA) - oltre accessorie (30 Euro diritti CCIAA)",tipo:"fisso",dipendeDa:"costituzione_principale"},{id:"cost_cciaa_con_scia",nome:"Pratica CCIAA con SCIA",prezzo:200,selezionato:!1,categoria:"Costituzione",descrizione:"Pratica CCIAA per comunicazione attivit\xE0 (con SCIA al Comune) - oltre accessorie (30 Euro diritti CCIAA)",tipo:"fisso",dipendeDa:"costituzione_principale"},{id:"cost_cciaa_scia_plus",nome:"Pratica CCIAA con SCIA plus",prezzo:250,selezionato:!1,categoria:"Costituzione",descrizione:"Pratica CCIAA per comunicazione attivit\xE0 (con SCIA al Comune e plus) - oltre accessorie",tipo:"fisso",dipendeDa:"costituzione_principale"},{id:"cost_inps_artigiani",nome:"INPS art/comm",prezzo:50,selezionato:!1,categoria:"Costituzione",descrizione:"INPS artigiani commercianti (soci lavoratori) - per ciascuno",tipo:"fisso",dipendeDa:"costituzione_principale"},{id:"cost_inps_gest_separata",nome:"INPS gestione separata",prezzo:80,selezionato:!1,categoria:"Costituzione",descrizione:"INPS gestione separata (P.IVA individuale e amministratori) - per ciascuno",tipo:"fisso",dipendeDa:"costituzione_principale"},{id:"cost_vidimazione_libri",nome:"Vidimazione libri sociali",prezzo:20,selezionato:!1,categoria:"Costituzione",descrizione:"Vidimazione libri sociali (oltre accessori) - per libro",tipo:"fisso",dipendeDa:"costituzione_principale"},{id:"cost_registrazione_verbali",nome:"Registrazione verbali",prezzo:100,selezionato:!1,categoria:"Costituzione",descrizione:"Registrazione verbali - oltre accessori",tipo:"fisso",dipendeDa:"costituzione_principale"},{id:"contabilita_principale",nome:"Servizi di Contabilit\xE0",prezzo:0,selezionato:!1,categoria:"Contabilit\xE0",descrizione:"Seleziona il tipo di contabilit\xE0 e inserisci il numero di registrazioni annuali",tipo:"configurabile"},{id:"fatturazione_principale",nome:"Servizi di Fatturazione",prezzo:0,selezionato:!1,categoria:"Fatturazione",descrizione:"Configura i servizi di fatturazione in base alle tue esigenze",tipo:"configurabile"},{id:"iva_principale",nome:"Servizi IVA",prezzo:0,selezionato:!1,categoria:"IVA",descrizione:"Configura i servizi IVA in base alla tua periodicit\xE0",tipo:"configurabile"},{id:"redditi_principale",nome:"Dichiarazione Redditi",prezzo:0,selezionato:!1,categoria:"Redditi",descrizione:"Configura la dichiarazione redditi in base al tipo di soggetto e volume d'affari",tipo:"configurabile"},{id:"bilancio_principale",nome:"Bilancio",prezzo:0,selezionato:!1,categoria:"Bilancio",descrizione:"Configura il servizio di bilancio in base alle tue esigenze",tipo:"configurabile"},{id:"altro_cu_autonomi",nome:"CU autonomi (fino a 5 percipienti)",prezzo:180,selezionato:!1,categoria:"Altri Servizi",descrizione:"CU per autonomi - fino a 5 percipienti",tipo:"fisso"},{id:"altro_modello_770",nome:"Modello 770",prezzo:100,selezionato:!1,categoria:"Altri Servizi",descrizione:"Modello 770 - autonomi e capitali - una tantum/anno",tipo:"fisso"},{id:"altro_f24_12",nome:"F24 (fino a 12/anno)",prezzo:300,selezionato:!1,categoria:"Altri Servizi",descrizione:"F24 - fino a 12 pagamenti/anno",tipo:"fisso"},{id:"altro_imu_dichiarazione",nome:"Dichiarazione IMU/ILIA",prezzo:60,selezionato:!1,categoria:"Altri Servizi",descrizione:"Dichiarazione IMU/ILIA",tipo:"fisso"},{id:"altro_imu_verifica",nome:"Verifica Esatto/calcolo IMU",prezzo:40,selezionato:!1,categoria:"Altri Servizi",descrizione:"Verifica Esatto/calcolo IMU",tipo:"fisso"},{id:"altro_imu_pagamento",nome:"Pagamento IMU a scadenza",prezzo:25,selezionato:!1,categoria:"Altri Servizi",descrizione:"Pagamento IMU a scadenza",tipo:"fisso"},{id:"altro_avvisi_bonari",nome:"Autotutela avvisi bonari",prezzo:70,selezionato:!1,categoria:"Altri Servizi",descrizione:"Autotutela avvisi bonari",tipo:"fisso"},{id:"altro_locazioni",nome:"Supporto contratti locazione",prezzo:180,selezionato:!1,categoria:"Altri Servizi",descrizione:"Supporto nella predisposizione e registrazione contratti locazione",tipo:"fisso"},{id:"altro_lettere_intento",nome:"Invio lettere d'intento",prezzo:85,selezionato:!1,categoria:"Altri Servizi",descrizione:"Invio lettere d'intento - per ciascuna",tipo:"fisso"},{id:"altro_smart_card_rilascio",nome:"Rilascio Smart Card",prezzo:60,selezionato:!1,categoria:"Altri Servizi",descrizione:"Rilascio Smart Card - per ciascuna",tipo:"fisso"},{id:"altro_smart_card_conservazione",nome:"Conservazione Smart Card",prezzo:30,selezionato:!1,categoria:"Altri Servizi",descrizione:"Conservazione Smart Card - annuale",tipo:"fisso"},{id:"altro_titolare_effettivo",nome:"Invio pratica titolare effettivo",prezzo:130,selezionato:!1,categoria:"Altri Servizi",descrizione:"Invio pratica titolare effettivo - prezzo medio",tipo:"fisso"},{id:"altro_visure_online",nome:"Visura ordinaria",prezzo:20,selezionato:!1,categoria:"Altri Servizi",descrizione:"Visura ordinaria",tipo:"fisso"},{id:"altro_chiamate_consulenza",nome:"Chiamate per consulenza",prezzo:300,selezionato:!1,categoria:"Altri Servizi",descrizione:"Chiamate per consulenza - una tantum",tipo:"fisso"},{id:"altro_gestione_pec",nome:"Gestione PEC mensile",prezzo:16,selezionato:!1,categoria:"Altri Servizi",descrizione:"Gestione mensile PEC",tipo:"fisso"}],totale:0},ottimizzazione_management:{nome:"Ottimizzazione e Management",servizi:[{id:"consulenza_impresa_base",nome:"Consulenza di Impresa Base",prezzo:800,selezionato:!1,pacchetto:"base",descrizione:"Analisi iniziale e piano di miglioramento base"},{id:"consulenza_impresa_avanzata",nome:"Consulenza di Impresa Avanzata",prezzo:1500,selezionato:!1,pacchetto:"avanzato",descrizione:"Consulenza strategica con piano d'azione dettagliato"},{id:"consulenza_impresa_premium",nome:"Consulenza di Impresa Premium",prezzo:2500,selezionato:!1,pacchetto:"premium",descrizione:"Consulenza completa con supporto continuativo"},{id:"formazione_commerciale_base",nome:"Formazione Commerciale Base",prezzo:600,selezionato:!1,pacchetto:"base",descrizione:"Corso base di tecniche di vendita"},{id:"formazione_commerciale_avanzata",nome:"Formazione Commerciale Avanzata",prezzo:1200,selezionato:!1,pacchetto:"avanzato",descrizione:"Formazione avanzata con simulazioni pratiche"},{id:"formazione_commerciale_premium",nome:"Formazione Commerciale Premium",prezzo:2e3,selezionato:!1,pacchetto:"premium",descrizione:"Programma completo con coaching individuale"}],totale:0}};totaleGenerale=0;ngOnInit(){return I(this,null,function*(){let e=this.router.getCurrentNavigation()?.extras?.state||history?.state||{},c=e?.prospect,a=this.route.snapshot.queryParamMap,s=c?.id||a.get("prospectId"),h=Number(e?.goToStep||a.get("step"))||0;if(c?.id)this.selectedProspect=c;else if(s)try{let{data:C,error:x}=yield this.soggettiService.getSoggettoById(s);!x&&C&&(this.selectedProspect=C)}catch{}s&&(yield this.loadConfigurazioneEsistente(s),this.currentStep=h&&h>=1&&h<=this.totaleSteps?h:6)})}loadConfigurazioneEsistente(i){return I(this,null,function*(){let{data:e,error:c}=yield this.alchemizzatoreService.getConfigurazioniByProspect(i);if(c||!Array.isArray(e)||e.length===0)return;let a=[...e].sort((h,C)=>new Date(C.updated_at||C.created_at||C.data_configurazione||0).getTime()-new Date(h.updated_at||h.created_at||h.data_configurazione||0).getTime())[0];this.configurazioneCorrenteId=a.id??null,this.currentConfigurazioneId=this.configurazioneCorrenteId;let s=a?.dettagli||{};this.applyConfigurazioneDettagli(s),this.previousConfigurazione=this.deepClone(s)})}applyConfigurazioneDettagli(i){let e=i||{},c=["immagine_marketing","digitalizzazione_automatismi","contabilita_fiscalita","ottimizzazione_management"];for(let a of c){let s=e[a];if(!s)continue;let h=Array.isArray(s.servizi_selezionati)?s.servizi_selezionati:Array.isArray(s.servizi)?s.servizi:[],C=new Set(h.map(x=>x.id));this.moduli[a].servizi.forEach(x=>{x.selezionato=C.has(x.id)})}this.calcolaTotali()}avanti(){this.currentStep<this.totaleSteps&&this.currentStep++}indietro(){this.currentStep>1&&this.currentStep--}vaiAStep(i){i>=1&&i<=this.totaleSteps&&(this.currentStep=i)}onSearchProspect(i){return I(this,null,function*(){if(this.searchError=null,!i?.trim()){this.searchResults=[];return}this.searchLoading=!0;try{let[e,c]=yield Promise.all([this.soggettiService.searchSoggetti(i,"prospect"),this.soggettiService.searchSoggetti(i,"cliente")]),a=e.data??[],s=c.data??[],h=Array.from(new Map([...a,...s].map(C=>[C.id,C])).values());this.searchResults=h}catch(e){console.error("Errore durante la ricerca soggetti",e),this.searchError="Errore durante la ricerca"}finally{this.searchLoading=!1}})}get isModificaConfigurazione(){return!!(this.selectedProspect?.tipo==="cliente"&&this.configurazioneCorrenteId)}onSelectProspect(i){return I(this,null,function*(){if(this.searchResults=[],this.queryProspect=i.ragione_sociale??"",!i.tipo){let{data:e}=yield this.soggettiService.getSoggettoById(i.id);e&&(i=e)}if(this.selectedProspect=i,this.queryProspect=i.ragione_sociale??"",this.searchResults=[],i.tipo==="cliente"){let{data:e}=yield this.supabaseService.getUltimaConfigurazionePromethea(i.id);if(e){this.configurazioneCorrenteId=e.id??null,this.currentConfigurazioneId=this.configurazioneCorrenteId,this.applyConfigurazioneDettagli(e.dettagli),this.previousConfigurazione=this.deepClone(e.dettagli??{});return}}this.configurazioneCorrenteId=null,this.currentConfigurazioneId=null,this.previousConfigurazione=null,yield this.loadConfigurazioneEsistente(i.id)})}toggleServizio(i,e){let c=this.moduli[i],a=!e.selezionato;if(a&&i==="immagine_marketing"){if(e.id.startsWith("social_")&&c.servizi.forEach(s=>{s.id.startsWith("social_")&&s.id!==e.id&&(s.selezionato=!1)}),e.id==="creazione_brand"){let s=c.servizi.find(h=>h.id==="creazione_logo");s&&(s.selezionato=!1)}else if(e.id==="creazione_logo"){let s=c.servizi.find(h=>h.id==="creazione_brand");s&&(s.selezionato=!1)}}a&&e.pacchetto&&c.servizi.forEach(s=>{s.pacchetto===e.pacchetto&&s.id!==e.id&&(s.selezionato=!1)}),e.selezionato=a,this.calcolaTotali()}calcolaDifferenze(i,e){let c={},a=["immagine_marketing","digitalizzazione_automatismi","contabilita_fiscalita","ottimizzazione_management"],s=h=>h?(Array.isArray(h.servizi_selezionati)?h.servizi_selezionati:Array.isArray(h.servizi)?h.servizi:[]).map(x=>typeof x=="string"?x:x?.id).filter(x=>!!x):[];return a.forEach(h=>{let C=new Set(s(i?.[h])),x=new Set(s(e?.[h])),V=[...C].filter(P=>!x.has(P)),M=[...x].filter(P=>!C.has(P));(V.length||M.length)&&(c[h]={aggiunti:V,rimossi:M})}),c}isServizioDisabled(i,e){return e.pacchetto?this.moduli[i].servizi.filter(s=>s.pacchetto===e.pacchetto&&s.id!==e.id&&s.selezionato).length>0:!1}buildDettagliConfigurazione(){let i={};return Object.keys(this.moduli).forEach(e=>{let c=this.moduli[e],a=c.servizi.filter(s=>s.selezionato).map(s=>({id:s.id,nome:s.nome,prezzo:s.prezzo,pacchetto:s.pacchetto??null,descrizione:s.descrizione??null}));i[e]={nome:c.nome,totale:c.totale,servizi_selezionati:a}}),i.meta={totaleGenerale:this.totaleGenerale,aggiornato_il:new Date().toISOString()},i}salvaConfigurazione(){return I(this,null,function*(){let i=this.buildDettagliConfigurazione();if(!this.selectedProspect)return;if(this.selectedProspect.tipo==="cliente"&&this.configurazioneCorrenteId&&this.previousConfigurazione){let s=this.calcolaDifferenze(i,this.previousConfigurazione);Object.keys(s).length>0&&(yield this.supabaseService.inserisciLogConfigurazione({configurazione_id:this.configurazioneCorrenteId,soggetto_id:this.selectedProspect.id,differenze:s,totale:i.meta?.totaleGenerale??this.totaleGenerale}))}let e={prospect_id:this.selectedProspect.id,data_configurazione:new Date().toISOString(),totale:this.totaleGenerale,dettagli:i},{data:c,error:a}=yield this.alchemizzatoreService.salvaConfigurazione(e,this.configurazioneCorrenteId??void 0);if(a)throw console.error("Errore nel salvataggio configurazione",a),a;this.configurazioneCorrenteId=c?.id??this.configurazioneCorrenteId??null,this.currentConfigurazioneId=this.configurazioneCorrenteId,this.previousConfigurazione=this.deepClone(i)})}resetConfigurazione(){this.currentStep=1,this.queryProspect="",Object.keys(this.moduli).forEach(i=>{let e=this.moduli[i];e.servizi.forEach(c=>{c.selezionato=!1}),e.totale=0}),this.totaleGenerale=0}getServiziSelezionatiModulo(i){return this.moduli[i].servizi.filter(c=>c.selezionato)}getTotaleModulo(i){return this.moduli[i].totale}getServiziPacchetto(i){return this.moduli[i].servizi.filter(e=>!!e.pacchetto)}getServiziSingoli(i){return this.moduli[i].servizi.filter(e=>!e.pacchetto)}getTuttiServiziSelezionati(){let i=[];return Object.keys(this.moduli).forEach(e=>{let c=this.moduli[e].servizi.filter(a=>a.selezionato);i.push(...c)}),i}procediPerFirme(){return I(this,null,function*(){if(!this.selectedProspect){alert("Seleziona prima un soggetto.");return}if(this.totaleGenerale===0){alert("Configura almeno un servizio.");return}let i=this.isProspect;if(i&&!this.pendingFirmeProcess){this.pendingFirmeProcess=!0,this.currentStep=7;return}let e=[{percorso:"/assets/contratti/privacy-promethea.pdf",nomeBase:"Privacy"},{percorso:"/assets/contratti/contratto-promethea.pdf",nomeBase:"Contratto Servizi Promethea"}];this.haServiziDigitaliSelezionati()&&e.push({percorso:"/assets/contratti/allegato-digitale.pdf",nomeBase:"Allegato Digitale"}),this.haServiziContabiliSelezionati()&&e.push({percorso:"/assets/contratti/allegato-contabile.pdf",nomeBase:"Allegato Contabile"});try{if(i&&!(yield this.convertiProspectInCliente())){alert("Errore nella conversione del prospect in cliente.");return}this.scaricaDocumenti(e),yield this.salvaConfigurazione(),i&&this.nominativi.length>0&&(yield this.creaProspectDaNominativi()),this.pendingFirmeProcess=!1,this.currentStep=i?6:this.currentStep,alert(i?"Operazione completata! Il prospect \xE8 ora cliente.":"Configurazione aggiornata con successo.")}catch(c){console.error("Errore nel processo:",c),alert("Errore durante l'operazione: "+(c?.message||"sconosciuto"))}})}convertiProspectInCliente(){return I(this,null,function*(){if(!this.selectedProspect||!this.isProspect)return!0;try{console.log("Conversione prospect in cliente:",this.selectedProspect.id);let i=yield this.soggettiService.convertiProspectInCliente(this.selectedProspect.id);return i.error?(console.error("Errore nella conversione:",i.error),!1):i.data?(this.selectedProspect=i.data,console.log("Prospect convertito in cliente con successo:",this.selectedProspect),!0):!1}catch(i){return console.error("Errore durante la conversione:",i),!1}})}aggiungiNominativo(){if(!this.nuovoNominativo.nome.trim()){alert("Il nome \xE8 obbligatorio");return}if(!this.nuovoNominativo.telefono.trim()&&!this.nuovoNominativo.email.trim()){alert("Inserire almeno il telefono o l'email");return}this.nominativi.push(k({},this.nuovoNominativo)),this.nuovoNominativo={nome:"",telefono:"",email:""}}rimuoviNominativo(i){this.nominativi.splice(i,1)}creaProspectDaNominativi(){return I(this,null,function*(){if(!(!this.nominativi||this.nominativi.length===0))for(let i of this.nominativi)try{let e={tipo:"prospect",ragioneSociale:i.nome,telefono:i.telefono||void 0,email:i.email||void 0,note:`Creato da configurazione Promethea - ${this.selectedProspect?.ragione_sociale}`,prodotto:"Promethea",referenzaDaId:this.selectedProspect?.id},c=yield this.soggettiService.createSoggetto(e);(!c||!c.success)&&(yield this.soggettiService.supabase.from("soggetti").insert([{tipo:e.tipo,ragione_sociale:e.ragioneSociale,telefono:e.telefono??null,email:e.email??null,note:e.note??null,prodotto:e.prodotto,referenza_da_id:e.referenzaDaId??null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]))}catch(e){console.error("Errore creazione prospect da nominativo:",e)}})}haServiziDigitaliSelezionati(){let i=this.moduli.digitalizzazione_automatismi.servizi.some(c=>c.selezionato),e=this.moduli.immagine_marketing.servizi.some(c=>c.selezionato&&c.id.startsWith("social_"));return i||e}haServiziContabiliSelezionati(){return this.moduli.contabilita_fiscalita.servizi.some(i=>i.selezionato)}scaricaDocumenti(i){let e=this.sanitizeFileName(this.selectedProspect.ragione_sociale);i.forEach((c,a)=>{setTimeout(()=>{let s=`${c.nomeBase} - ${e}.pdf`;this.scaricaPDF(c.percorso,s)},a*300)})}scaricaPDF(i,e){let c=document.createElement("a");c.href=i,c.download=e,c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}sanitizeFileName(i){return i.replace(/[<>:"/\\|?*]/g,"_").replace(/\s+/g," ").trim()}get isCliente(){return this.selectedProspect?.tipo==="cliente"}get isProspect(){return this.selectedProspect?.tipo==="prospect"}getCategorieContabilita(){let i=this.moduli.contabilita_fiscalita.servizi;return[...new Set(i.map(c=>c.categoria))].filter(c=>c!==void 0).sort()}getServiziByCategoria(i){return this.moduli.contabilita_fiscalita.servizi.filter(e=>e.categoria===i)}configurazioniContabilita={costituzione:{attivo:!1,serviziSelezionati:[]},contabilita:{tipo:"semplificata",registrazioni:90,prezzoCalcolato:0},fatturazione:{tipo:"emissione_noi",numeroFatture:40,prezzoCalcolato:0},iva:{liquidazione:"trimestrale",lipe:"trimestrale",volumeAffari:75e3,vistoConformita:!1,modelloIVATR:!1,intrastat:!1,prezzoCalcolato:0},redditi:{tipoSoggetto:"persone_fisiche",volumeAffari:75e3,numeroPersone:1,vistoConformita:!1,prezzoCalcolato:0},bilancio:{tipo:"attivita",importo:13e4,depositoBilancio:!1,nominaCariche:!1,prezzoCalcolato:0},altriServizi:{cuPercipienti:5,prezzoCU:180,modello770:!1,f24Numero:12,prezzoF24:300}};calcolaPrezzoContabilita(){let i=this.configurazioniContabilita.contabilita,e=i.registrazioni;switch(i.tipo){case"semplificata":e<=90?i.prezzoCalcolato=1421:e<=180?i.prezzoCalcolato=1811:e<=360?i.prezzoCalcolato=2805:i.prezzoCalcolato=2805+(e-360)*2;break;case"ordinaria":e<=600?i.prezzoCalcolato=3276:(e<=2e3,i.prezzoCalcolato=3276+(e-600)*3.38);break;case"mista":e<=600?i.prezzoCalcolato=2644:(e<=2e3,i.prezzoCalcolato=2644+(e-600)*3.38);break}i.prezzoCalcolato=Math.round(i.prezzoCalcolato*100)/100,this.calcolaTotali()}calcolaPrezzoFatturazione(){let i=this.configurazioniContabilita.fatturazione;i.tipo==="emissione_noi"?i.prezzoCalcolato=i.numeroFatture*25:i.prezzoCalcolato=i.numeroFatture*4,this.calcolaTotali()}calcolaPrezzoIVA(){let i=this.configurazioniContabilita.iva,e=0;i.liquidazione==="mensile"?e+=576:e+=280,i.lipe==="mensile"?e+=1038:e+=346,i.volumeAffari<=75e3?e+=277:i.volumeAffari<=15e4?e+=346:i.volumeAffari<=3e5?e+=439:i.volumeAffari<=5e5?e+=550:i.volumeAffari<=75e4?e+=732:e+=1208,i.vistoConformita&&(e+=287.5),i.modelloIVATR&&(e+=72),i.intrastat&&(e+=70),i.prezzoCalcolato=e,this.calcolaTotali()}calcolaPrezzoRedditi(){let i=this.configurazioniContabilita.redditi,e=0;i.tipoSoggetto==="persone_fisiche"?i.volumeAffari<=75e3?e=440:i.volumeAffari<=15e4?e=659:i.volumeAffari<=3e5?e=879:i.volumeAffari<=5e5?e=1096.5:i.volumeAffari<=75e4?e=1317:e=1645.5:i.volumeAffari<=3e5?e=916.5:i.volumeAffari<=5e5?e=1372.5:i.volumeAffari<=15e5?e=1830:i.volumeAffari<=3e6?e=2285:i.volumeAffari<=5e6?e=2744:i.volumeAffari<=75e5?e=3201.5:e=4e3,i.tipoSoggetto==="persone_fisiche"&&(e*=i.numeroPersone),i.vistoConformita&&(e+=287.5),i.prezzoCalcolato=e,this.calcolaTotali()}calcolaPrezzoBilancio(){let i=this.configurazioniContabilita.bilancio,e=0;i.tipo==="attivita"?i.importo<=13e4?e=453.5:i.importo<=5e5?e=765.5:i.importo<=13e5?e=1184:i.importo<=26e5?e=1739.5:i.importo<=575e4?e=2435:e=3e3:i.importo<=3e5?e=590:i.importo<=5e5?e=765.5:i.importo<=15e5?e=905:i.importo<=3e6?e=1218:i.importo<=5e6?e=1739.5:i.importo<=75e5?e=2435:e=3e3,i.depositoBilancio&&(e+=350),i.nominaCariche&&(e+=420),i.prezzoCalcolato=e,this.calcolaTotali()}calcolaPrezzoCU(){let i=this.configurazioniContabilita.altriServizi;i.cuPercipienti<=5?i.prezzoCU=180:i.cuPercipienti<=10?i.prezzoCU=330:i.cuPercipienti<=15?i.prezzoCU=480:i.cuPercipienti<=20?i.prezzoCU=630:i.prezzoCU=630+(i.cuPercipienti-20)*30,i.f24Numero<=12?i.prezzoF24=300:i.f24Numero<=24?i.prezzoF24=600:i.f24Numero<=36?i.prezzoF24=900:i.prezzoF24=900+(i.f24Numero-36)*25,this.calcolaTotali()}calcolaTotali(){Object.keys(this.moduli).forEach(i=>{let e=this.moduli[i];if(i==="contabilita_fiscalita"){let c=e.servizi.filter(C=>C.selezionato&&C.tipo==="fisso").reduce((C,x)=>C+x.prezzo,0),a=C=>!!e.servizi.find(x=>x.id===C&&x.selezionato),s=0;a("contabilita_principale")&&(s+=this.configurazioniContabilita.contabilita.prezzoCalcolato||0),a("fatturazione_principale")&&(s+=this.configurazioniContabilita.fatturazione.prezzoCalcolato||0),a("iva_principale")&&(s+=this.configurazioniContabilita.iva.prezzoCalcolato||0),a("redditi_principale")&&(s+=this.configurazioniContabilita.redditi.prezzoCalcolato||0),a("bilancio_principale")&&(s+=this.configurazioniContabilita.bilancio.prezzoCalcolato||0),this.configurazioniContabilita.altriServizi?.modello770&&(s+=100),s+=this.configurazioniContabilita.altriServizi?.prezzoCU||0,s+=this.configurazioniContabilita.altriServizi?.prezzoF24||0,!e.servizi.some(C=>C.selezionato)&&s===0?e.totale=0:e.totale=Math.round((c+s)*100)/100}else e.totale=e.servizi.filter(c=>c.selezionato).reduce((c,a)=>c+a.prezzo,0)}),this.totaleGenerale=Object.keys(this.moduli).reduce((i,e)=>i+this.moduli[e].totale,0),this.totaleGenerale=Math.round(this.totaleGenerale*100)/100}toggleServizioContabilita(i){i.tipo==="gruppo"?(i.selezionato=!i.selezionato,i.id==="costituzione_principale"&&(this.configurazioniContabilita.costituzione.attivo=i.selezionato)):i.selezionato=!i.selezionato,this.calcolaTotali()}isServizioContabilitaAbilitato(i){return i.dipendeDa?this.moduli.contabilita_fiscalita.servizi.find(c=>c.id===i.dipendeDa)?.selezionato||!1:!0}deepClone(i){return i==null?i:JSON.parse(JSON.stringify(i))}static \u0275fac=function(e){return new(e||l)(y(ie),y(te),y(G),y(L),y(U))};static \u0275cmp=T({type:l,selectors:[["app-alchemizzatore"]],decls:22,vars:19,consts:[[1,"alchemizzatore-container"],[1,"form-section"],[1,"progress-steps"],[1,"step",3,"click"],["class","form-section trattativa-section",4,"ngIf"],[1,"form-section","trattativa-section"],[1,"section-header"],[1,"material-icons","header-icon"],[1,"section-titles"],[1,"section-title"],[1,"card"],[1,"form-label"],[1,"search-input-container"],["type","text","placeholder","Cerca per ragione sociale, P.IVA o referente...",3,"ngModelChange","input","ngModel"],["class","status-message loading",4,"ngIf"],["class","status-message error",4,"ngIf"],["class","search-results","role","listbox",4,"ngIf"],["class","status-message info",4,"ngIf"],["class","status-message warning",4,"ngIf"],[1,"actions-container"],[1,"promethea-button",3,"click","disabled"],[1,"status-message","loading"],[1,"loading-spinner"],[1,"status-message","error"],["role","listbox",1,"search-results"],["class","search-result-item","role","option",3,"click",4,"ngFor","ngForOf"],["role","option",1,"search-result-item",3,"click"],[1,"result-text"],[1,"result-title"],[1,"result-subtitle"],[1,"result-icon"],[1,"status-message","info"],[1,"material-icons"],[1,"status-message","warning"],[1,"sottotitolo"],[1,"section-title","sotto"],[1,"grid-responsive"],["class","card servizio-card",3,"selezionato","disabled","click",4,"ngFor","ngForOf"],["class","card servizio-card",3,"selezionato","click",4,"ngFor","ngForOf"],[1,"modulo-totale"],[1,"promethea-button","secondary",3,"click"],[1,"promethea-button",3,"click"],[1,"card","servizio-card",3,"click"],[1,"servizio-header"],[1,"servizio-prezzo"],[1,"servizio-descrizione"],["class","chip",4,"ngIf"],[1,"checkmark"],[1,"chip"],[1,"categorie-contabilita"],[1,"categoria-contabilita"],[1,"configurazione-gruppo"],[1,"card","card-clickable","gruppo-principale",3,"click"],[1,"card-title"],[1,"card-number","servizio-prezzo"],["class","servizi-dipendenti",4,"ngIf"],[1,"configurazione-dinamica","card"],[1,"configurazione-header"],[1,"card-number"],[1,"configurazione-campi"],[1,"form-field"],[1,"table-inline-select",3,"ngModelChange","change","ngModel"],["value","semplificata"],["value","ordinaria"],["value","mista"],["type","number","min","1","max","10000",1,"table-inline-input",3,"ngModelChange","change","ngModel"],["class","dettaglio-calcolo",4,"ngIf"],["value","emissione_noi"],["value","piattaforma_passcom"],["type","number","min","1","max","1000",1,"table-inline-input",3,"ngModelChange","change","ngModel"],["value","trimestrale"],["value","mensile"],["value","75000"],["value","150000"],["value","300000"],["value","500000"],["value","750000"],["value","1000000"],[1,"form-field","checkbox"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"categoria-title"],[1,"servizi-dipendenti"],["class","card",3,"selezionato","disabled","click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[1,"dettaglio-calcolo"],[4,"ngIf"],["class","card servizio-card",3,"hidden","selezionato","disabled","click",4,"ngFor","ngForOf"],[1,"card","servizio-card",3,"click","hidden"],["class","riepilogo-modulo",4,"ngIf"],[1,"riepilogo-totale","text-center"],["class","promethea-button success",3,"click",4,"ngIf"],[1,"promethea-button","success",3,"click","disabled"],[1,"riepilogo-modulo"],[1,"servizi-elenco"],["class","servizio-riepilogo",4,"ngFor","ngForOf"],[1,"totale-modulo"],[1,"servizio-riepilogo"],[1,"servizio-left"],[1,"badge","badge-primary"],[1,"servizio-nome"],[1,"servizio-price"],[1,"badge","badge-secondary"],[1,"badge","badge-info"],[1,"promethea-button","success",3,"click"],[1,"card",2,"margin-top","var(--gutter-lg)"],[1,"grid-form"],["type","text","placeholder","Nome e cognome",1,"form-input",3,"ngModelChange","ngModel"],["type","tel","placeholder","Telefono",1,"form-input",3,"ngModelChange","ngModel"],["type","email","placeholder","Email",1,"form-input",3,"ngModelChange","ngModel"],["class","card","style","margin-top: var(--gutter-md);",4,"ngIf"],[1,"card",2,"margin-top","var(--gutter-md)"],[1,"text-muted",2,"margin-left","0.6rem"],[1,"actions-container",2,"justify-content","flex-end"],[1,"action-btn","delete",3,"click"]],template:function(e,c){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),u("click",function(){return c.vaiAStep(1)}),o(4,"1"),n(),t(5,"button",3),u("click",function(){return c.vaiAStep(2)}),o(6,"2"),n(),t(7,"button",3),u("click",function(){return c.vaiAStep(3)}),o(8,"3"),n(),t(9,"button",3),u("click",function(){return c.vaiAStep(4)}),o(10,"4"),n(),t(11,"button",3),u("click",function(){return c.vaiAStep(5)}),o(12,"5"),n(),t(13,"button",3),u("click",function(){return c.vaiAStep(6)}),o(14,"6"),n()()(),_(15,me,20,9,"section",4)(16,ue,25,3,"section",4)(17,fe,25,3,"section",4)(18,Fe,141,21,"section",4)(19,Be,29,4,"section",4)(20,Ye,25,9,"section",4)(21,ei,30,5,"section",4),n()),e&2&&(r(3),v("active",c.currentStep===1),r(2),v("active",c.currentStep===2),r(2),v("active",c.currentStep===3),r(2),v("active",c.currentStep===4),r(2),v("active",c.currentStep===5),r(2),v("active",c.currentStep===6),r(2),d("ngIf",c.currentStep===1),r(),d("ngIf",c.currentStep===2),r(),d("ngIf",c.currentStep===3),r(),d("ngIf",c.currentStep===4),r(),d("ngIf",c.currentStep===5),r(),d("ngIf",c.currentStep===6),r(),d("ngIf",c.currentStep===7))},dependencies:[B,N,W,ee,X,Y,j,H,q,Q,$,K,Z,J,R],styles:[".alchemizzatore-container[_ngcontent-%COMP%]{padding:var(--gutter-lg)}.trattativa-section[_ngcontent-%COMP%]{margin:var(--gutter-lg) 0}.section-title.sotto[_ngcontent-%COMP%]{margin-top:var(--gutter-lg);margin-bottom:var(--gutter-md)}.servizio-card[_ngcontent-%COMP%]{position:relative;cursor:pointer;border-left:4px solid transparent;padding-right:calc(var(--gutter-lg) + var(--gutter-sm))}.servizio-card.selezionato[_ngcontent-%COMP%]{border-color:var(--primary);box-shadow:0 6px 16px var(--shadow2)}.servizio-card.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.servizio-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:var(--gutter-sm);margin-bottom:var(--gutter-sm)}.servizio-prezzo[_ngcontent-%COMP%]{font-weight:700;color:var(--primary);font-size:var(--fs-md);width:max-content;text-wrap:nowrap;padding-right:var(--gutter-lg)}.servizio-descrizione[_ngcontent-%COMP%]{color:color-mix(in srgb,var(--text-color) 70%,transparent);font-size:var(--fs-sm);margin:0 0 var(--gutter-sm) 0;line-height:1.4}.checkmark[_ngcontent-%COMP%]{position:absolute;top:var(--gutter-md);right:var(--gutter-md);width:24px;height:24px;border:2px solid var(--smoke-color-1);border-radius:50%;display:grid;place-items:center;color:transparent;transition:all .2s ease;background:transparent}.checkmark.attivo[_ngcontent-%COMP%]{background:var(--primary);border-color:var(--primary);color:#fff}.modulo-totale[_ngcontent-%COMP%]{text-align:right;font-size:var(--fs-md);margin:var(--gutter-lg) 0 0 0;padding:var(--gutter-md);background:var(--smoke-color-2);border-radius:8px;border:1px solid var(--smoke-color-1)}.riepilogo-modulo[_ngcontent-%COMP%]{background:var(--smoke-color-2);border:1px solid var(--smoke-color-1);border-radius:12px;padding:var(--gutter-md)}.riepilogo-modulo[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 var(--gutter-sm) 0;color:var(--primary)}.servizi-elenco[_ngcontent-%COMP%]{margin-bottom:var(--gutter-sm)}.servizio-riepilogo[_ngcontent-%COMP%]{padding:.25rem 0;color:var(--text-color)}.totale-modulo[_ngcontent-%COMP%]{font-weight:700;text-align:right;color:var(--primary);border-top:1px solid var(--smoke-color-1);padding-top:var(--gutter-sm);margin-top:var(--gutter-sm)}.riepilogo-totale[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--fs-lg);margin-top:var(--gutter-lg)}.promethea-button.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.actions-container[_ngcontent-%COMP%]{margin-top:var(--gutter-sm)}.card-number[_ngcontent-%COMP%]{font-size:var(--fs-md)}.categoria-contabilita[_ngcontent-%COMP%]{padding:var(--gutter-lg) 0;margin-bottom:var(--gutter-lg)}.grid-responsive[_ngcontent-%COMP%]{margin-top:var(--gutter-sm)}.riepilogo-modulo[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:var(--fs-md);font-weight:700;margin:0 0 var(--gutter-sm) 0;color:var(--text-color)}.servizi-elenco[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.servizio-riepilogo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:.45rem 0;border-bottom:1px dashed color-mix(in srgb,var(--text-color) 92%,transparent)}.servizio-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;min-width:0}.servizio-nome[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--text-color);font-weight:600}.servizio-price[_ngcontent-%COMP%]{color:var(--primary);font-weight:700;margin-left:1rem;white-space:nowrap}.riepilogo-totale[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{background:linear-gradient(90deg,color-mix(in srgb,var(--primary) 12%,transparent),transparent);padding:var(--gutter-sm);border-radius:8px}@media (min-width: 1100px){.grid-responsive[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]})};export{ne as Alchemizzatore};
