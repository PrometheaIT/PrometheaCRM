import{a as et}from"./chunk-6MBYYD52.js";import{b as Q,d as K,f as Z,n as H,o as $,p as J,u as X}from"./chunk-SRZMZVDW.js";import{a as tt}from"./chunk-3WLDIF5C.js";import"./chunk-P5EFXTG7.js";import"./chunk-WMLYL4YD.js";import{b as U}from"./chunk-Q4FMGKSF.js";import{d as W,e as L,i as R,j as q,m as j,o as G}from"./chunk-NOCF4HQD.js";import{Aa as C,Ab as A,Ga as D,La as v,Wa as p,X as d,Xa as e,Y as u,Ya as i,Za as I,db as g,gb as _,hb as c,ib as k,jb as P,kb as b,lb as V,mb as n,nb as w,ob as f,pb as Y,qb as z,rb as h,sb as S,ua as l,ub as O,xb as B,zb as F}from"./chunk-PE6PP35I.js";import"./chunk-X5YLR3NI.js";import{a as N,i as E}from"./chunk-ODN5LVDJ.js";var nt=()=>["sito-web","digitalizzazione","centralizzazione","google-sync"],at=()=>({"mobile-only":!0});function ot(o,r){if(o&1&&(e(0,"div",28)(1,"h3"),n(2),i(),e(3,"p"),n(4),i()()),o&2){let t=r.$implicit;V(t.colore),l(2),w(t.titolo),l(2),w(t.descrizione)}}function rt(o,r){o&1&&(e(0,"div",29),I(1,"span",30),n(2," Ricerca in corso\u2026 "),i())}function st(o,r){if(o&1&&(e(0,"div",31),n(1),i()),o&2){let t=c(2);l(),f(" ",t.searchError," ")}}function lt(o,r){if(o&1){let t=g();e(0,"div",34),_("click",function(){let a=d(t).$implicit,m=c(3);return u(m.onSelectProspect(a))}),e(1,"div",35)(2,"div",36)(3,"strong"),n(4),i()(),e(5,"div",37),n(6),i()(),e(7,"div",38),n(8,"\u2795"),i()()}if(o&2){let t=r.$implicit;l(4),w(t.ragione_sociale||t.ragioneSociale),l(2),Y(" ",t.email||"\u2014"," \u2022 ",t.telefono||"\u2014"," ")}}function ct(o,r){if(o&1&&(e(0,"div",32),v(1,lt,9,3,"div",33),B(2,"slice"),i()),o&2){let t=c(2);l(),p("ngForOf",F(2,1,t.searchResults,0,8))}}function mt(o,r){if(o&1&&(e(0,"div",39),n(1," Selezionato: "),e(2,"strong"),n(3),i()()),o&2){let t=c(2);l(3),w(t.selectedProspect.ragione_sociale||t.selectedProspect.ragioneSociale)}}function dt(o,r){if(o&1){let t=g();e(0,"button",40),_("click",function(){d(t);let a=c(2);return u(a.tornaAllaLista())}),e(1,"i",41),n(2,"arrow_back"),i(),n(3," Torna alla lista "),i()}}function ut(o,r){if(o&1){let t=g();e(0,"button",42),_("click",function(){d(t);let a=c(2);return u(a.avanti())}),n(1," Inizia la Trattativa "),i()}if(o&2){let t=c(2);p("disabled",!t.selectedProspect||!!t.searchResults.length||t.modalitaVisualizzazione)}}function pt(o,r){if(o&1){let t=g();e(0,"button",43),_("click",function(){d(t);let a=c(2);return u(a.currentSection="chiusura")}),n(1," Vedi Riepilogo Trattativa "),i()}}function _t(o,r){if(o&1){let t=g();e(0,"section",7)(1,"div",8)(2,"div",9),I(3,"img",10)(4,"img",11),i(),e(5,"h1"),n(6,"Promethea - Multiservizi per le Imprese"),i(),e(7,"p",12),n(8,"Centralizziamo tutti i servizi necessari, ottimizzando l'azienda a 360\xB0"),i()(),e(9,"div",13),v(10,ot,5,4,"div",14),i(),e(11,"div",15)(12,"h2"),n(13,"YUVI - Software Immobiliare"),i(),e(14,"p"),n(15,"Il gestionale che centralizza tutte le attivit\xE0 dell'agenzia in un unico punto, con controllo totale su immobili, anagrafiche, richieste e documenti."),i()(),e(16,"div",16)(17,"label",17),n(18,"Seleziona il Prospect"),i(),e(19,"div",18)(20,"input",19),S("ngModelChange",function(a){d(t);let m=c();return h(m.queryProspect,a)||(m.queryProspect=a),u(a)}),_("input",function(){d(t);let a=c();return u(a.onSearchProspect(a.queryProspect))}),i(),v(21,rt,3,0,"div",20)(22,st,2,1,"div",21)(23,ct,3,5,"div",22),i(),v(24,mt,4,1,"div",23),i(),e(25,"div",24),v(26,dt,4,0,"button",25)(27,ut,2,1,"button",26)(28,pt,2,0,"button",27),i()()}if(o&2){let t=c();l(10),p("ngForOf",t.serviziPromethea),l(10),z("ngModel",t.queryProspect),l(),p("ngIf",t.searchLoading),l(),p("ngIf",t.searchError),l(),p("ngIf",t.searchResults.length),l(),p("ngIf",t.selectedProspect),l(2),p("ngIf",t.isEditMode),l(),p("ngIf",!t.modalitaVisualizzazione),l(),p("ngIf",t.modalitaVisualizzazione)}}function vt(o,r){if(o&1){let t=g();e(0,"div",50)(1,"label",17),n(2,"Quale software utilizzate?"),i(),e(3,"input",51),S("ngModelChange",function(a){d(t);let m=c(2);return h(m.nomeSoftware,a)||(m.nomeSoftware=a),u(a)}),i()()}if(o&2){let t=c(2);l(3),z("ngModel",t.nomeSoftware)}}function gt(o,r){if(o&1){let t=g();e(0,"section",7)(1,"h2"),n(2,"Analisi della Situazione Attuale"),i(),e(3,"div",44)(4,"label",17),n(5,"Utilizzate dei gestionali specifici per il vostro lavoro?"),i(),e(6,"select",45),S("ngModelChange",function(a){d(t);let m=c();return h(m.utilizzaSoftware,a)||(m.utilizzaSoftware=a),u(a)}),_("change",function(){d(t);let a=c();return u(a.onSoftwareChange())}),e(7,"option",46),n(8,"Seleziona una risposta"),i(),e(9,"option",47),n(10,"S\xEC, utilizziamo un software"),i(),e(11,"option",48),n(12,"No, non utilizziamo software specifico"),i()(),v(13,vt,4,1,"div",49),i(),e(14,"div",24)(15,"button",40),_("click",function(){d(t);let a=c();return u(a.indietro())}),n(16,"Indietro"),i(),e(17,"button",42),_("click",function(){d(t);let a=c();return u(a.avanti())}),n(18," Continua "),i()()()}if(o&2){let t=c();l(6),z("ngModel",t.utilizzaSoftware),l(7),p("ngIf",t.mostraInputSoftware),l(4),p("disabled",!t.utilizzaSoftware)}}function ft(o,r){if(o&1){let t=g();e(0,"button",40),_("click",function(){d(t);let a=c(2);return u(a.tornaAllaLista())}),e(1,"i",41),n(2,"arrow_back"),i(),n(3," Torna alla lista "),i()}}function xt(o,r){if(o&1){let t=g();e(0,"section",7)(1,"h2"),n(2,"Analisi delle Esigenze"),i(),e(3,"div",52)(4,"div",53)(5,"label",17),n(6,"Com'\xE8 organizzata oggi la gestione degli immobili e dei clienti? Quali strumenti utilizzate?"),i(),e(7,"textarea",54),S("ngModelChange",function(a){d(t);let m=c();return h(m.risposteIndagine.organizzazione,a)||(m.risposteIndagine.organizzazione=a),u(a)}),i()(),e(8,"div",53)(9,"label",17),n(10,"Quali sono le sfide principali che incontra nella gestione quotidiana?"),i(),e(11,"textarea",55),S("ngModelChange",function(a){d(t);let m=c();return h(m.risposteIndagine.sfide,a)||(m.risposteIndagine.sfide=a),u(a)}),i()(),e(12,"div",53)(13,"label",17),n(14,"Qual \xE8 il livello di digitalizzazione nella parte burocratica?"),i(),e(15,"textarea",56),S("ngModelChange",function(a){d(t);let m=c();return h(m.risposteIndagine.digitalizzazione,a)||(m.risposteIndagine.digitalizzazione=a),u(a)}),i()(),e(16,"div",53)(17,"label",17),n(18,"Quando un cliente chiama o scrive, come tenete traccia di tutte le informazioni?"),i(),e(19,"textarea",57),S("ngModelChange",function(a){d(t);let m=c();return h(m.risposteIndagine.tracciaInfo,a)||(m.risposteIndagine.tracciaInfo=a),u(a)}),i()(),e(20,"div",53)(21,"label",17),n(22,"Se potesse automatizzare una sola parte del lavoro, quale sceglierebbe?"),i(),e(23,"textarea",58),S("ngModelChange",function(a){d(t);let m=c();return h(m.risposteIndagine.automazione,a)||(m.risposteIndagine.automazione=a),u(a)}),i()()(),e(24,"div",24),v(25,ft,4,0,"button",25),e(26,"button",40),_("click",function(){d(t);let a=c();return u(a.indietro())}),n(27,"Indietro"),i(),e(28,"button",43),_("click",function(){d(t);let a=c();return u(a.avanti())}),n(29,"Continua"),i()()()}if(o&2){let t=c();l(7),z("ngModel",t.risposteIndagine.organizzazione),l(4),z("ngModel",t.risposteIndagine.sfide),l(4),z("ngModel",t.risposteIndagine.digitalizzazione),l(4),z("ngModel",t.risposteIndagine.tracciaInfo),l(4),z("ngModel",t.risposteIndagine.automazione),l(2),p("ngIf",t.isEditMode)}}function zt(o,r){if(o&1){let t=g();e(0,"button",40),_("click",function(){d(t);let a=c(2);return u(a.tornaAllaLista())}),e(1,"i",41),n(2,"arrow_back"),i(),n(3," Torna alla lista "),i()}}function ht(o,r){if(o&1){let t=g();e(0,"section",7)(1,"h2"),n(2,"Analisi del Software Attuale"),i(),e(3,"div",59)(4,"div",53)(5,"label",17),n(6),i(),e(7,"textarea",60),S("ngModelChange",function(a){d(t);let m=c();return h(m.risposteBenchmark.automazionePreferita,a)||(m.risposteBenchmark.automazionePreferita=a),u(a)}),i()(),e(8,"div",53)(9,"label",17),n(10,"Qual \xE8 il livello di digitalizzazione nella parte burocratica?"),i(),e(11,"textarea",61),S("ngModelChange",function(a){d(t);let m=c();return h(m.risposteBenchmark.livelloBurocratico,a)||(m.risposteBenchmark.livelloBurocratico=a),u(a)}),i()(),e(12,"div",53)(13,"label",17),n(14),i(),e(15,"textarea",62),S("ngModelChange",function(a){d(t);let m=c();return h(m.risposteBenchmark.funzioneMancante,a)||(m.risposteBenchmark.funzioneMancante=a),u(a)}),i()()(),e(16,"div",24),v(17,zt,4,0,"button",25),e(18,"button",40),_("click",function(){d(t);let a=c();return u(a.indietro())}),n(19,"Indietro"),i(),e(20,"button",43),_("click",function(){d(t);let a=c();return u(a.avanti())}),n(21,"Continua"),i()()()}if(o&2){let t=c();l(6),f("Poich\xE9 utilizzate ",t.nomeSoftware||"questo software",", se potesse automatizzare una sola parte del lavoro, quale sceglierebbe?"),l(),z("ngModel",t.risposteBenchmark.automazionePreferita),l(4),z("ngModel",t.risposteBenchmark.livelloBurocratico),l(3),f('Quanto potrebbe aiutarvi avere anche "',t.risposteBenchmark.automazionePreferita||"questa funzione",'" nel vostro gestionale?'),l(),z("ngModel",t.risposteBenchmark.funzioneMancante),l(2),p("ngIf",t.isEditMode)}}function St(o,r){if(o&1&&(e(0,"tr")(1,"td")(2,"strong"),n(3),i()(),e(4,"td"),n(5),i(),e(6,"td"),n(7),i()()),o&2){let t=r.$implicit;l(3),w(t.nome),l(2),w(t.costoBase),l(2),w(t.costoAnnuale)}}function bt(o,r){if(o&1){let t=g();e(0,"button",40),_("click",function(){d(t);let a=c(2);return u(a.tornaAllaLista())}),e(1,"i",41),n(2,"arrow_back"),i(),n(3," Torna alla lista "),i()}}function wt(o,r){if(o&1){let t=g();e(0,"section",7)(1,"h2"),n(2,"Il Mercato Immobiliare Digitale Oggi"),i(),e(3,"div",63)(4,"div",64)(5,"div",65)(6,"div",66),n(7,"\u{1F504}"),i(),e(8,"h3"),n(9,"Doppio Caricamento"),i(),e(10,"p"),n(11,"Perdita di tempo e precisione nel caricare immobili su pi\xF9 piattaforme"),i()(),e(12,"div",65)(13,"div",66),n(14,"\u{1F4B8}"),i(),e(15,"h3"),n(16,"Costi Elevati"),i(),e(17,"p"),n(18,"Piattaforme sempre pi\xF9 costose con servizi frammentati"),i()(),e(19,"div",65)(20,"div",66),n(21,"\u{1F4CA}"),i(),e(22,"h3"),n(23,"Dati Frammentati"),i(),e(24,"p"),n(25,"Informazioni sparse tra mille strumenti diversi"),i()(),e(26,"div",65)(27,"div",66),n(28,"\u{1F310}"),i(),e(29,"h3"),n(30,"Siti Obsoleti"),i(),e(31,"p"),n(32,"Difficolt\xE0 nell'aggiornare il sito web aziendale"),i()()(),e(33,"div",67)(34,"h3"),n(35,"Confronto Piattaforme Immobiliari"),i(),e(36,"div",68)(37,"table",69)(38,"thead")(39,"tr")(40,"th"),n(41,"Piattaforma"),i(),e(42,"th"),n(43,"Base di Costo"),i(),e(44,"th"),n(45,"Costo Annuale Stimato"),i()()(),e(46,"tbody"),v(47,St,8,3,"tr",70),i()()()()(),e(48,"div",24),v(49,bt,4,0,"button",25),e(50,"button",40),_("click",function(){d(t);let a=c();return u(a.indietro())}),n(51,"Indietro"),i(),e(52,"button",43),_("click",function(){d(t);let a=c();return u(a.avanti())}),n(53,"Vedi la Soluzione"),i()()()}if(o&2){let t=c();l(47),p("ngForOf",t.piattaforme),l(2),p("ngIf",t.isEditMode)}}function yt(o,r){if(o&1){let t=g();e(0,"span",82),n(1),e(2,"button",83),_("click",function(a){let m=d(t).$implicit,x=c(2).$implicit;return c(2).removeDocumento(x,m),u(a.stopPropagation())}),n(3,"\xD7"),i()()}if(o&2){let t=r.$implicit;l(),f(" ",t," ")}}function Et(o,r){if(o&1){let t=g();e(0,"div",77),_("click",function(a){return d(t),u(a.stopPropagation())}),e(1,"label",17),n(2,"Documenti richiesti"),i(),e(3,"div",78),v(4,yt,4,1,"span",79),i(),e(5,"input",80,0),_("keyup.enter",function(){d(t);let a=k(6),m=c().$implicit,x=c(2);return u(x.addDocumento(m,a))}),i(),e(7,"small",81),n(8,"Esempi: Proposta d'acquisto, Privacy, Antiriciclaggio\u2026"),i()()}if(o&2){let t=c().$implicit;l(4),p("ngForOf",t.documenti)}}function Ct(o,r){if(o&1){let t=g();e(0,"div",73),_("click",function(){let a=d(t).$implicit,m=c(2);return u(m.selezionaServizio(a))}),e(1,"div",74),n(2),i(),e(3,"h4"),n(4),i(),e(5,"div",75),n(6,"\u2713"),i(),v(7,Et,9,1,"div",76),i()}if(o&2){let t=r.$implicit;b("selezionato",t.selezionato),l(2),w(t.icona),l(2),w(t.nome),l(),b("attivo",t.selezionato),l(2),p("ngIf",t.id==="digitalizzazione"&&t.selezionato)}}function Tt(o,r){if(o&1){let t=g();e(0,"button",40),_("click",function(){d(t);let a=c(2);return u(a.tornaAllaLista())}),e(1,"i",41),n(2,"arrow_back"),i(),n(3," Torna alla lista "),i()}}function It(o,r){if(o&1){let t=g();e(0,"section",7)(1,"h2"),n(2,"Personalizza la Tua Soluzione YUVI"),i(),e(3,"p",12),n(4,"Seleziona i servizi che desideri integrare nel tuo pacchetto"),i(),e(5,"div",71),v(6,Ct,8,7,"div",72),i(),e(7,"div",24),v(8,Tt,4,0,"button",25),e(9,"button",40),_("click",function(){d(t);let a=c();return u(a.indietro())}),n(10,"Indietro"),i(),e(11,"button",42),_("click",function(){d(t);let a=c();return u(a.avanti())}),n(12),i()()()}if(o&2){let t=c();l(6),p("ngForOf",t.serviziYuvi),l(2),p("ngIf",t.isEditMode),l(3),p("disabled",t.serviziSelezionati.length===0),l(),f(" Continua (",t.serviziSelezionati.length," servizi selezionati) ")}}function kt(o,r){o&1&&(e(0,"div",88)(1,"p"),n(2,"YUVI si integra con le principali piattaforme immobiliari, eliminando la necessit\xE0 del doppio caricamento. Il tuo sito si aggiorna automaticamente con foto, descrizioni e dati sincronizzati."),i()())}function Mt(o,r){o&1&&(e(0,"div",88)(1,"p"),n(2,"Documenti gi\xE0 digitalizzati per antiriciclaggio, privacy e valutazione rischi. Possiamo personalizzare qualsiasi modulo con campi compilabili automaticamente dal software."),i()())}function Pt(o,r){o&1&&(e(0,"div",88)(1,"p"),n(2,"Gestionale completo con tutte le funzionalit\xE0 e campi necessari per un'agenzia immobiliare moderna ed efficiente."),i()())}function Vt(o,r){o&1&&(e(0,"div",88)(1,"p"),n(2,"Collega il tuo account Google: appuntamenti e contatti si sincronizzano automaticamente tra YUVI e Google Calendar/Contatti."),i()())}function Yt(o,r){o&1&&(e(0,"div",88)(1,"p"),n(2,"Servizio personalizzato che risponde alle tue specifiche esigenze di business nel settore immobiliare."),i()())}function Ot(o,r){if(o&1&&(e(0,"div",86)(1,"h3"),n(2),i(),v(3,kt,3,0,"div",87)(4,Mt,3,0,"div",87)(5,Pt,3,0,"div",87)(6,Vt,3,0,"div",87)(7,Yt,3,0,"div",87),i()),o&2){let t=r.$implicit;l(2),Y("",t.icona," ",t.nome),l(),p("ngIf",t.id==="sito-web"),l(),p("ngIf",t.id==="digitalizzazione"),l(),p("ngIf",t.id==="centralizzazione"),l(),p("ngIf",t.id==="google-sync"),l(),p("ngIf",!O(7,nt).includes(t.id))}}function At(o,r){if(o&1){let t=g();e(0,"button",40),_("click",function(){d(t);let a=c(2);return u(a.tornaAllaLista())}),e(1,"i",41),n(2,"arrow_back"),i(),n(3," Torna alla lista "),i()}}function Nt(o,r){if(o&1){let t=g();e(0,"section",7)(1,"h2"),n(2,"Come YUVI Risolve le Tue Esigenze"),i(),e(3,"div",84),v(4,Ot,8,8,"div",85),i(),e(5,"div",24),v(6,At,4,0,"button",25),e(7,"button",40),_("click",function(){d(t);let a=c();return u(a.indietro())}),n(8,"Indietro"),i(),e(9,"button",43),_("click",function(){d(t);let a=c();return u(a.avanti())}),n(10,"Vedi il Preventivo"),i()()()}if(o&2){let t=c();l(4),p("ngForOf",t.serviziSelezionati),l(2),p("ngIf",t.isEditMode)}}function Dt(o,r){o&1&&(e(0,"div",107)(1,"div",108)(2,"i",41),n(3,"visibility"),i(),e(4,"span"),n(5,"Modalit\xE0 di sola visualizzazione - Trattativa esistente"),i()()())}function Bt(o,r){if(o&1&&(e(0,"span",82),n(1),i()),o&2){let t=r.$implicit;l(),w(t)}}function Ft(o,r){if(o&1&&(e(0,"div",78),v(1,Bt,2,1,"span",79),i()),o&2){let t=c().$implicit;l(),p("ngForOf",t.documenti)}}function Wt(o,r){if(o&1&&(e(0,"div",109),n(1),v(2,Ft,2,1,"div",110),i()),o&2){let t=r.$implicit;l(),f(" \u2713 ",t.nome," "),l(),p("ngIf",t.id==="digitalizzazione"&&(t.documenti==null?null:t.documenti.length))}}function Lt(o,r){if(o&1&&(e(0,"div",115),n(1),i()),o&2){let t=r.$implicit,s=r.index;P("animation-delay",s*.1+"s"),b("gratuito",s===0),l(),f(" ",t," ")}}function Rt(o,r){if(o&1&&(e(0,"div",111)(1,"div",112),v(2,Lt,2,5,"div",113),i(),e(3,"div",114)(4,"i",41),n(5,"schedule"),i(),e(6,"span"),n(7,"Paghi solo 11 mesi l'anno"),i()()()),o&2){let t=c(2);l(2),p("ngForOf",t.mesiAnno)}}function qt(o,r){if(o&1&&(e(0,"span",124),n(1,"\u{1F4B0}"),i()),o&2){let t=r.index;P("animation-delay",t*.2+"s")}}function jt(o,r){if(o&1&&(e(0,"div",111)(1,"div",116)(2,"div",117),v(3,qt,2,2,"span",118),i(),e(4,"div",119)(5,"div",120)(6,"span"),n(7,"Mensile \xD7 12:"),i(),e(8,"span",121),n(9),i()(),e(10,"div",122)(11,"span"),n(12,"Annuale:"),i(),e(13,"span"),n(14),i()(),e(15,"div",123)(16,"i",41),n(17,"savings"),i(),e(18,"span"),n(19),i()()()()()),o&2){let t=c(2);l(3),p("ngForOf",t.moneteRisparmio),l(6),f("",t.prezzoMensile*12,"\u20AC"),l(5),f("",t.prezzoAnnuale,"\u20AC"),l(5),f("Risparmi ",t.prezzoMensile*12-t.prezzoAnnuale,"\u20AC")}}function Gt(o,r){if(o&1){let t=g();e(0,"section",7),v(1,Dt,6,0,"div",89),e(2,"h1"),n(3,"Il Tuo Investimento in:"),i(),e(4,"div",90),I(5,"img",91),i(),e(6,"div",92)(7,"div",93)(8,"h2"),n(9,"Pacchetto Personalizzato"),i(),e(10,"div",94),v(11,Wt,3,2,"div",95),i(),e(12,"div",96)(13,"div",97),_("click",function(){d(t);let a=c();return u(a.applicaSconto(""))}),e(14,"div",98)(15,"h4",99),n(16,"Pagamento Mensile"),i(),e(17,"span",100),n(18,"1 MESE GRATIS"),i()(),e(19,"div",101),n(20),e(21,"span",102),n(22,"/mese"),i()(),e(23,"div",103),n(24,"Flessibilit\xE0 massima"),i(),v(25,Rt,8,1,"div",104),i(),e(26,"div",97),_("click",function(){d(t);let a=c();return u(a.applicaSconto("annuale"))}),e(27,"div",98)(28,"h4",99),n(29,"Pagamento Annuale"),i(),e(30,"span",105),n(31,"2 MESI GRATIS"),i()(),e(32,"div",101),n(33),e(34,"span",102),n(35,"/anno"),i()(),e(36,"div",103),n(37,"Risparmio garantito"),i(),v(38,jt,20,4,"div",104),i()(),e(39,"div",106)(40,"button",43),_("click",function(){d(t);let a=c();return u(a.currentSection="feedback_esito")}),n(41,"Procedi"),i()()()(),e(42,"div",24)(43,"button",40),_("click",function(){d(t);let a=c();return u(a.indietro())}),n(44,"Indietro"),i()()()}if(o&2){let t=c();l(),p("ngIf",t.modalitaVisualizzazione),l(10),p("ngForOf",t.serviziSelezionati),l(2),b("card-active",t.scontoAttivo===""),l(7),f(" ",t.prezzoMensile,"\u20AC"),l(5),p("ngIf",t.scontoAttivo===""),l(),b("card-active",t.scontoAttivo==="annuale"),l(7),f(" ",t.prezzoAnnuale,"\u20AC"),l(5),p("ngIf",t.scontoAttivo==="annuale")}}function Ut(o,r){if(o&1){let t=g();e(0,"section",7)(1,"h2"),n(2,"Esito Trattativa"),i(),e(3,"div",125)(4,"button",126),_("click",function(){d(t);let a=c();return u(a.salvaEsitoTrattativa("contratto_chiuso"))}),e(5,"i",41),n(6,"check_circle"),i(),n(7," Contratto Chiuso "),i(),e(8,"button",127),_("click",function(){d(t);let a=c();return u(a.salvaEsitoTrattativa("non_chiuso"))}),e(9,"i",41),n(10,"cancel"),i(),n(11," Non Chiuso "),i(),e(12,"button",128),_("click",function(){d(t);let a=c();return u(a.salvaEsitoTrattativa("da_richiamare"))}),e(13,"i",41),n(14,"schedule"),i(),n(15," Da Richiamare "),i()(),e(16,"div",24)(17,"button",40),_("click",function(){d(t);let a=c();return u(a.currentSection="chiusura")}),n(18," Torna al Preventivo "),i()()()}}function Qt(o,r){if(o&1&&(e(0,"span",149)(1,"i",150),n(2,"phone"),i(),n(3),i()),o&2){let t=c().$implicit;l(3),f(" ",t.telefono," ")}}function Kt(o,r){o&1&&(e(0,"span",151),n(1,"\u2014"),i())}function Zt(o,r){if(o&1&&(e(0,"span",149)(1,"i",150),n(2,"email"),i(),n(3),i()),o&2){let t=c().$implicit;l(3),f(" ",t.email," ")}}function Ht(o,r){o&1&&(e(0,"span",151),n(1,"\u2014"),i())}function $t(o,r){if(o&1){let t=g();e(0,"tr")(1,"td",141)(2,"div",142)(3,"strong"),n(4),i()()(),e(5,"td",143)(6,"div",142),v(7,Qt,4,1,"span",144)(8,Kt,2,0,"ng-template",null,1,A),i()(),e(10,"td",145)(11,"div",142),v(12,Zt,4,1,"span",144)(13,Ht,2,0,"ng-template",null,2,A),i()(),e(15,"td",146)(16,"div",147)(17,"button",148),_("click",function(){let a=d(t).index,m=c(3);return u(m.rimuoviNominativo(a))}),e(18,"i",41),n(19,"delete"),i()()()()()}if(o&2){let t=r.$implicit,s=k(9),a=k(14);l(4),w(t.nome),l(3),p("ngIf",t.telefono)("ngIfElse",s),l(5),p("ngIf",t.email)("ngIfElse",a)}}function Jt(o,r){if(o&1&&(e(0,"div",149)(1,"i",157),n(2,"phone"),i(),n(3),i()),o&2){let t=c().$implicit;l(3),f(" ",t.telefono," ")}}function Xt(o,r){if(o&1&&(e(0,"div",149)(1,"i",157),n(2,"email"),i(),n(3),i()),o&2){let t=c().$implicit;l(3),f(" ",t.email," ")}}function te(o,r){o&1&&(e(0,"div",158)(1,"i",159),n(2,"warning"),i(),n(3," Nessun contatto inserito "),i())}function ee(o,r){if(o&1){let t=g();e(0,"div",44)(1,"div",152)(2,"div",153)(3,"strong"),n(4),i(),e(5,"button",148),_("click",function(){let a=d(t).index,m=c(3);return u(m.rimuoviNominativo(a))}),e(6,"i",41),n(7,"delete"),i()()(),e(8,"div",154),v(9,Jt,4,1,"div",155)(10,Xt,4,1,"div",155)(11,te,4,0,"div",156),i()()()}if(o&2){let t=r.$implicit;l(4),w(t.nome),l(5),p("ngIf",t.telefono),l(),p("ngIf",t.email),l(),p("ngIf",!t.telefono&&!t.email)}}function ie(o,r){if(o&1&&(e(0,"div",44)(1,"div",135)(2,"i",136),n(3,"contacts"),i(),e(4,"div",137)(5,"h3",138),n(6,"Nominativi Inseriti"),i(),e(7,"p",12),n(8),i()()(),e(9,"div",68)(10,"table",69)(11,"thead")(12,"tr")(13,"th"),n(14,"Nome"),i(),e(15,"th"),n(16,"Telefono"),i(),e(17,"th"),n(18,"Email"),i(),e(19,"th"),n(20,"Azioni"),i()()(),e(21,"tbody"),v(22,$t,20,5,"tr",70),i()()(),e(23,"div",139),v(24,ee,12,4,"div",140),i()()),o&2){let t=c(2);l(8),f("",t.nominativi.length," prospect creati"),l(14),p("ngForOf",t.nominativi),l(),V(O(5,at)),l(),p("ngForOf",t.nominativi)}}function ne(o,r){if(o&1){let t=g();e(0,"section",7)(1,"h2"),n(2,"Inserisci i Nominativi Ottenuti"),i(),e(3,"p",12),n(4,"Inserisci i contatti dei prospect che hai ottenuto dalla trattativa. "),e(5,"strong"),n(6,"Il nome \xE8 obbligatorio e almeno un contatto (telefono o email) \xE8 richiesto."),i()(),e(7,"div",44)(8,"div",129)(9,"div",130)(10,"label",17)(11,"i",41),n(12,"person"),i(),n(13," Nome completo * "),i(),e(14,"input",131),S("ngModelChange",function(a){d(t);let m=c();return h(m.nuovoNominativo.nome,a)||(m.nuovoNominativo.nome=a),u(a)}),i()(),e(15,"div",130)(16,"label",17)(17,"i",41),n(18,"phone"),i(),n(19," Telefono "),i(),e(20,"input",132),S("ngModelChange",function(a){d(t);let m=c();return h(m.nuovoNominativo.telefono,a)||(m.nuovoNominativo.telefono=a),u(a)}),i()(),e(21,"div",130)(22,"label",17)(23,"i",41),n(24,"email"),i(),n(25," Email "),i(),e(26,"input",133),S("ngModelChange",function(a){d(t);let m=c();return h(m.nuovoNominativo.email,a)||(m.nuovoNominativo.email=a),u(a)}),i()()(),e(27,"div",24)(28,"button",43),_("click",function(){d(t);let a=c();return u(a.aggiungiNominativo())}),e(29,"i",41),n(30,"add"),i(),n(31," Aggiungi Nominativo "),i()()(),v(32,ie,25,6,"div",134),e(33,"div",24)(34,"button",40),_("click",function(){d(t);let a=c();return u(a.currentSection="feedback_esito")}),e(35,"i",41),n(36,"arrow_back"),i(),n(37," Indietro "),i(),e(38,"button",43),_("click",function(){d(t);let a=c();return u(a.salvaTrattativaCompleta())}),e(39,"i",41),n(40,"save"),i(),n(41," Salva Trattativa "),i()()()}if(o&2){let t=c();l(14),z("ngModel",t.nuovoNominativo.nome),l(6),z("ngModel",t.nuovoNominativo.telefono),l(6),z("ngModel",t.nuovoNominativo.email),l(6),p("ngIf",t.nominativi.length>0)}}function ae(o,r){if(o&1){let t=g();e(0,"button",40),_("click",function(){let a=d(t).$implicit,m=c(2);return u(m.motivazioneNonChiuso=a)}),n(1),i()}if(o&2){let t=r.$implicit,s=c(2);b("selected",s.motivazioneNonChiuso===t),l(),f(" ",s.getTestoMotivazione(t)," ")}}function oe(o,r){if(o&1){let t=g();e(0,"section",7)(1,"h2"),n(2,"Motivazione Non Chiusura"),i(),e(3,"div",125),v(4,ae,2,3,"button",160),i(),e(5,"div",24)(6,"button",40),_("click",function(){d(t);let a=c();return u(a.currentSection="feedback_esito")}),n(7," Indietro "),i(),e(8,"button",42),_("click",function(){d(t);let a=c();return u(a.salvaTrattativaCompleta())}),n(9," Salva Motivazione "),i()()()}if(o&2){let t=c();l(4),p("ngForOf",t.motivazioniNonChiuso),l(4),p("disabled",!t.motivazioneNonChiuso)}}var it=class o{constructor(r,t,s,a,m){this.soggetti=r;this.kpiService=t;this.supabaseService=s;this.route=a;this.router=m}modalitaVisualizzazione=!1;trattativaEsistente=null;trattativaId=null;isEditMode=!1;mesiAnno=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"];moneteRisparmio=[1,2,3,4];tipoPagamento="mensile";ngOnInit(){return E(this,null,function*(){console.log("\u{1F7E1} YuviTrattativa - Inizializzazione componente"),this.route.queryParams.subscribe(s=>{this.trattativaId=s.trattativaId,this.isEditMode=!!this.trattativaId,console.log("\u{1F4CB} Parametri query:",{trattativaId:this.trattativaId,isEditMode:this.isEditMode})});let t=this.router.getCurrentNavigation()?.extras?.state;console.log("\u{1F4CB} Stato navigazione:",t),t?.trattativaEsistente&&t?.cliente?(console.log("\u2705 Trattativa esistente ricevuta dallo state"),this.trattativaEsistente=t.trattativaEsistente,this.selectedProspect=t.cliente,this.queryProspect=t.cliente.ragione_sociale,yield this.caricaTrattativaEsistente(this.trattativaEsistente),this.currentSection="chiusura",this.modalitaVisualizzazione=!0,console.log("\u2705 Modalit\xE0 visualizzazione attivata, sezione corrente: chiusura")):this.trattativaId?(console.log("\u{1F504} Caricamento trattativa dal database con ID:",this.trattativaId),yield this.caricaTrattativaDalDatabase(this.trattativaId)):console.log("\u{1F195} Modalit\xE0 nuova trattativa")})}caricaTrattativaDalDatabase(r){return E(this,null,function*(){try{console.log("\u{1F504} Caricamento trattativa dal database:",r);let{data:t,error:s}=yield this.supabaseService.supabase.from("trattative_yuvi").select("*").eq("id",r).single();if(s){console.error("\u274C Errore caricamento trattativa:",s),alert("Errore nel caricamento della trattativa");return}if(!t){console.error("\u274C Trattativa non trovata"),alert("Trattativa non trovata");return}console.log("\u2705 Trattativa caricata dal database:",t);let{data:a,error:m}=yield this.soggetti.getSoggettoById(t.prospect_id);if(m||!a){console.error("\u274C Errore caricamento prospect:",m),alert("Errore nel caricamento del cliente associato");return}this.trattativaEsistente=t,this.selectedProspect=a,this.queryProspect=a.ragione_sociale,yield this.caricaTrattativaEsistente(t),this.currentSection="chiusura",this.modalitaVisualizzazione=!0,console.log("\u2705 Modalit\xE0 visualizzazione attivata da database")}catch(t){console.error("\u274C Errore generale nel caricamento:",t),alert("Errore nel caricamento della trattativa: "+t.message)}})}risposteDomandaSoftware={utilizzaSoftware:"",nomeSoftware:""};risposteIndagineCompleta={organizzazione:"",sfide:"",digitalizzazione:"",tracciaInfo:"",automazione:"",automazionePreferita:"",livelloBurocratico:"",funzioneMancante:""};queryProspect="";searchResults=[];searchLoading=!1;searchError=null;selectedProspect=null;currentSection="presentazione";esitoTrattativa=null;motivazioneNonChiuso="";nominativi=[];nuovoNominativo={nome:"",telefono:"",email:""};motivazioniNonChiuso=["prezzo_troppo_alto","usano_software_proprio","non_hanno_bisogno","non_si_fidano"];serviziPromethea=[{titolo:"Branding & Marketing",descrizione:"Servizi di Grafica, Marketing e Identit\xE0 Visiva",colore:"yuvi-primary"},{titolo:"Digitalizzazione & Automatismi",descrizione:"Siti Web, Applicazioni e Software Personalizzati",colore:"yuvi-secondary"},{titolo:"Contabilit\xE0 & Fiscalit\xE0",descrizione:"Dichiarativi, Gestione Aziendale, Contabilit\xE0",colore:"yuvi-tertiary"},{titolo:"Modulo Ottimizzazione",descrizione:"Servizi di ottimizzazione, formazione commerciale e management",colore:"yuvi-primary"}];utilizzaSoftware="";nomeSoftware="";mostraInputSoftware=!1;risposteIndagine={organizzazione:"",sfide:"",digitalizzazione:"",tracciaInfo:"",automazione:""};risposteBenchmark={automazionePreferita:"",livelloBurocratico:"",funzioneMancante:""};serviziYuvi=[{id:"sito-web",nome:"Automatizzare il sito web",selezionato:!1,icona:"\u{1F310}"},{id:"digitalizzazione",nome:"Digitalizzare i documenti",selezionato:!1,icona:"\u{1F4C4}",documenti:[]},{id:"centralizzazione",nome:"Centralizzare i dati",selezionato:!1,icona:"\u{1F5C3}\uFE0F"},{id:"google-sync",nome:"Collegare agenda/contatti con Google",selezionato:!1,icona:"\u{1F4C5}"},{id:"partner",nome:"Contatti con Partner immobiliari",selezionato:!1,icona:"\u{1F91D}"},{id:"sync-partner",nome:"Lavorare collegati con i Partner",selezionato:!1,icona:"\u{1F504}"},{id:"piattaforma",nome:"Partecipare alla nuova piattaforma",selezionato:!1,icona:"\u{1F680}"},{id:"marketing",nome:"Supporto marketing",selezionato:!1,icona:"\u{1F4E2}"},{id:"branding",nome:"Rinnovare il brand",selezionato:!1,icona:"\u{1F3A8}"}];piattaforme=[{nome:"Immobiliare.it",costoBase:"Abbonamento basato su Stock di Annunci e Zona",costoAnnuale:"\u20AC 3.500 - \u20AC 10.000+ IVA/anno"},{nome:"Idealista.it",costoBase:"Abbonamento basato su Stock di Annunci e Zona",costoAnnuale:"\u20AC 1.500 - \u20AC 7.000+ IVA/anno"}];prezzoMensile=150;prezzoAnnuale=1500;scontoAttivo="";getNextSection(r){return{presentazione:"domanda-software","domanda-software":this.utilizzaSoftware==="si"?"benchmark":"indagine",indagine:"distacco",benchmark:"distacco",distacco:"scelta-servizi","scelta-servizi":"spiegazioni",spiegazioni:"chiusura",chiusura:"chiusura"}[r]||"presentazione"}getPreviousSection(r){return{"domanda-software":"presentazione",indagine:"domanda-software",benchmark:"domanda-software",distacco:this.utilizzaSoftware==="si"?"benchmark":"indagine","scelta-servizi":"distacco",spiegazioni:"scelta-servizi",chiusura:"spiegazioni"}[r]||"presentazione"}selezionaServizio(r){r.selezionato=!r.selezionato,r.id==="digitalizzazione"&&r.selezionato&&!r.documenti&&(r.documenti=[])}addDocumento(r,t){let s=(t.value||"").trim();s&&(r.documenti=r.documenti||[],r.documenti.includes(s)||r.documenti.push(s),t.value="")}removeDocumento(r,t){r.documenti=(r.documenti||[]).filter(s=>s!==t)}get serviziSelezionati(){return this.serviziYuvi.filter(r=>r.selezionato)}applicaSconto(r){this.scontoAttivo=r,this.tipoPagamento=r==="annuale"?"annuale":"mensile"}avanti(){if(this.modalitaVisualizzazione){alert("Modalit\xE0 di sola visualizzazione. Non puoi modificare la trattativa.");return}this.selectedProspect&&(this.currentSection=this.getNextSection(this.currentSection))}indietro(){if(this.modalitaVisualizzazione){alert("Modalit\xE0 di sola visualizzazione. Non puoi modificare la trattativa.");return}this.currentSection=this.getPreviousSection(this.currentSection)}tornaIndietro(){this.router.navigate(["/lista-clienti"])}onSoftwareChange(){this.mostraInputSoftware=this.utilizzaSoftware==="si"}onSearchProspect(r){return E(this,null,function*(){this.searchError=null;let t=(r??"").trim();if(t.length<2){this.searchResults=[];return}this.searchLoading=!0;let{data:s,error:a}=yield this.soggetti.searchSoggetti(t,"prospect");if(this.searchLoading=!1,a){this.searchError=a.message??"Errore ricerca",this.searchResults=[];return}this.searchResults=s??[]})}onSelectProspect(r){this.selectedProspect=r,this.searchResults=[],this.queryProspect=r.ragione_sociale||r.ragioneSociale||""}salvaEsitoTrattativa(r){return E(this,null,function*(){if(!this.selectedProspect){alert("Seleziona prima un prospect!");return}this.esitoTrattativa=r,r==="contratto_chiuso"?this.currentSection="inserimento_nominativi":r==="non_chiuso"?this.currentSection="motivazione_non_chiuso":r==="da_richiamare"&&(yield this.salvaTrattativaCompleta())})}salvaTrattativaCompleta(){return E(this,null,function*(){if(!this.selectedProspect||!this.esitoTrattativa)return;let r={domanda_software:{utilizza_software:this.utilizzaSoftware,nome_software:this.nomeSoftware},indagine:this.utilizzaSoftware==="no"?{organizzazione:this.risposteIndagine.organizzazione,sfide:this.risposteIndagine.sfide,digitalizzazione:this.risposteIndagine.digitalizzazione,traccia_info:this.risposteIndagine.tracciaInfo,automazione:this.risposteIndagine.automazione}:null,benchmark:this.utilizzaSoftware==="si"?{automazione_preferita:this.risposteBenchmark.automazionePreferita,livello_burocratico:this.risposteBenchmark.livelloBurocratico,funzione_mancante:this.risposteBenchmark.funzioneMancante}:null,nominativi:this.nominativi},t={prospect_id:this.selectedProspect.id,esito:this.esitoTrattativa,motivazione:this.esitoTrattativa==="non_chiuso"?this.motivazioneNonChiuso:null,servizi_selezionati:this.serviziSelezionati,prezzo_mensile:this.prezzoMensile,prezzo_annuale:this.prezzoAnnuale,sconto_attivo:this.scontoAttivo,tipo_pagamento:this.tipoPagamento,nominativi_presi:this.nominativi.length,risposte_questionario:r,updated_at:new Date().toISOString()};try{let s;if(this.isEditMode&&this.trattativaId){let{data:a,error:m}=yield this.supabaseService.supabase.from("trattative_yuvi").update(t).eq("id",this.trattativaId).select().single();if(m)throw m;s=a}else{t.created_at=new Date().toISOString();let{data:a,error:m}=yield this.supabaseService.supabase.from("trattative_yuvi").insert([t]).select().single();if(m)throw m;s=a}this.esitoTrattativa==="contratto_chiuso"&&this.nominativi.length>0&&(yield this.creaProspectDaNominativi(s.id)),this.esitoTrattativa==="contratto_chiuso"&&this.selectedProspect?.id&&(yield this.soggetti.convertiProspectInCliente(this.selectedProspect.id)),alert("Trattativa salvata con successo!"),this.tornaAllaLista()}catch(s){console.error("Errore nel salvataggio:",s),alert("Errore nel salvataggio: "+s.message)}})}creaProspectDaNominativi(r){return E(this,null,function*(){if(console.log("Inizio creazione prospect da nominativi:",this.nominativi),!this.nominativi||this.nominativi.length===0){console.log("Nessun nominativo da salvare");return}let t=[];for(let m of this.nominativi)try{console.log("Creazione prospect per:",m);let x={tipo:"prospect",ragioneSociale:m.nome,telefono:m.telefono||void 0,email:m.email||void 0,note:`Creato da trattativa YUVI - ${this.selectedProspect?.ragione_sociale}`,prodotto:"YUVI",referenzaDaId:this.selectedProspect?.id};console.log("Dati prospect da inserire (CreateSoggettoData):",x);let y=null;if(typeof this.soggetti.createSoggetto=="function")try{y=yield this.soggetti.createSoggetto(x)}catch(T){console.warn("createSoggetto service failed, fallback to direct insert",T),y={error:T}}if(!y||y.error){let{data:T,error:M}=yield this.supabaseService.supabase.from("soggetti").insert([{tipo:x.tipo,ragione_sociale:x.ragioneSociale,telefono:x.telefono??null,email:x.email??null,note:x.note??null,prodotto:x.prodotto,referenza_da_id:x.referenzaDaId??null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select();M?(console.error("Errore inserimento prospect (fallback):",M),t.push({success:!1,error:M,nominativo:m})):(console.log("Prospect creato con successo (fallback):",T),t.push({success:!0,data:T,nominativo:m}))}else console.log("Prospect creato tramite servizio:",y),t.push({success:!0,data:y.data??y,nominativo:m})}catch(x){console.error("Errore nella creazione del prospect:",x),t.push({success:!1,error:x,nominativo:m})}let s=t.filter(m=>m.success).length,a=t.filter(m=>!m.success).length;console.log(`Risultati creazione prospect: ${s} successi, ${a} errori`,t),a>0&&alert(`Attenzione: ${a} prospect non sono stati creati correttamente. Controlla la console per i dettagli.`)})}aggiungiNominativo(){if(!this.nuovoNominativo.nome.trim()){alert("Il nome \xE8 obbligatorio");return}if(!this.nuovoNominativo.telefono.trim()&&!this.nuovoNominativo.email.trim()){alert("Inserire almeno il telefono o l'email");return}this.nuovoNominativo.nome.trim()&&(this.nominativi.push(N({},this.nuovoNominativo)),this.nuovoNominativo={nome:"",telefono:"",email:""})}rimuoviNominativo(r){this.nominativi.splice(r,1)}getTestoMotivazione(r){return{prezzo_troppo_alto:"Prezzo troppo alto",usano_software_proprio:"Usano gi\xE0 il loro software e si trovano bene",non_hanno_bisogno:"Non ne hanno bisogno",non_si_fidano:"Non si fidano"}[r]||r}resetTrattativa(){this.currentSection="presentazione",this.esitoTrattativa=null,this.motivazioneNonChiuso="",this.nominativi=[],this.selectedProspect=null,this.queryProspect="",this.utilizzaSoftware="",this.nomeSoftware="",this.mostraInputSoftware=!1,this.risposteIndagine={organizzazione:"",sfide:"",digitalizzazione:"",tracciaInfo:"",automazione:""},this.risposteBenchmark={automazionePreferita:"",livelloBurocratico:"",funzioneMancante:""}}caricaTrattativaEsistente(r){return E(this,null,function*(){if(console.log("\u{1F7E1} Caricamento trattativa esistente:",r),this.esitoTrattativa=r.esito,this.motivazioneNonChiuso=r.motivazione||"",this.prezzoMensile=r.prezzo_mensile||this.prezzoMensile,this.prezzoAnnuale=r.prezzo_annuale||this.prezzoAnnuale,this.scontoAttivo=r.sconto_attivo||"",this.tipoPagamento=r.tipo_pagamento||"mensile",r.risposte_questionario?.nominativi?this.nominativi=r.risposte_questionario.nominativi:r.nominativi_presi&&r.nominativi_presi>0&&(this.nominativi=Array(r.nominativi_presi).fill(0).map((t,s)=>({nome:`Nominativo ${s+1}`,telefono:"N/D",email:"N/D"}))),r.risposte_questionario){let t=r.risposte_questionario;t.domanda_software&&(this.utilizzaSoftware=t.domanda_software.utilizza_software||"",this.nomeSoftware=t.domanda_software.nome_software||"",this.mostraInputSoftware=this.utilizzaSoftware==="si"),t.indagine&&this.utilizzaSoftware==="no"&&(this.risposteIndagine={organizzazione:t.indagine.organizzazione||"",sfide:t.indagine.sfide||"",digitalizzazione:t.indagine.digitalizzazione||"",tracciaInfo:t.indagine.traccia_info||"",automazione:t.indagine.automazione||""}),t.benchmark&&this.utilizzaSoftware==="si"&&(this.risposteBenchmark={automazionePreferita:t.benchmark.automazione_preferita||"",livelloBurocratico:t.benchmark.livello_burocratico||"",funzioneMancante:t.benchmark.funzione_mancante||""})}r.servizi_selezionati&&Array.isArray(r.servizi_selezionati)&&this.serviziYuvi.forEach(t=>{let s=r.servizi_selezionati.find(a=>a.id===t.id);t.selezionato=!!s,t.id==="digitalizzazione"&&s&&s.documenti&&(t.documenti=s.documenti)}),console.log("\u2705 Dati caricati completamente:",{esito:this.esitoTrattativa,serviziSelezionati:this.serviziSelezionati,nominativi:this.nominativi,modalitaVisualizzazione:this.modalitaVisualizzazione})})}tornaAllaLista(){this.router.navigate(["/lista-clienti"])}static \u0275fac=function(t){return new(t||o)(C(tt),C(et),C(U),C(j),C(G))};static \u0275cmp=D({type:o,selectors:[["app-yuvi-trattativa"]],decls:27,vars:25,consts:[["docInput",""],["noTelefono",""],["noEmail",""],[1,"form-section","trattativa-header"],[1,"progress-steps"],[1,"step"],["class","form-section trattativa-section",4,"ngIf"],[1,"form-section","trattativa-section"],[1,"presentazione-header"],[1,"logo-placeholder"],["src","assets/logo-light.png","alt","Promethea Logo",1,"logoescritta","logo-light"],["src","assets/logo-dark.png","alt","Promethea Logo",1,"logoescritta","logo-dark"],[1,"sottotitolo"],[1,"servizi-grid"],["class","servizio-card",3,"class",4,"ngFor","ngForOf"],[1,"yuvi-intro"],[1,"card",2,"margin-top","var(--gutter-md)"],[1,"form-label"],[1,"search-input-container"],["type","text","placeholder","Cerca per ragione sociale, P.IVA o referente...",3,"ngModelChange","input","ngModel"],["class","status-message loading","style","margin-top:.5rem;",4,"ngIf"],["class","status-message error","style","margin-top:.5rem;",4,"ngIf"],["class","search-results","role","listbox",4,"ngIf"],["class","status-message info","style","margin-top:.5rem;",4,"ngIf"],[1,"actions-container"],["class","promethea-button secondary",3,"click",4,"ngIf"],["class","promethea-button",3,"disabled","click",4,"ngIf"],["class","promethea-button",3,"click",4,"ngIf"],[1,"servizio-card"],[1,"status-message","loading",2,"margin-top",".5rem"],[1,"loading-spinner"],[1,"status-message","error",2,"margin-top",".5rem"],["role","listbox",1,"search-results"],["class","search-result-item","role","option",3,"click",4,"ngFor","ngForOf"],["role","option",1,"search-result-item",3,"click"],[1,"result-text"],[1,"result-title"],[1,"result-subtitle"],[1,"result-icon"],[1,"status-message","info",2,"margin-top",".5rem"],[1,"promethea-button","secondary",3,"click"],[1,"material-icons"],[1,"promethea-button",3,"click","disabled"],[1,"promethea-button",3,"click"],[1,"card"],[3,"ngModelChange","change","ngModel"],["value",""],["value","si"],["value","no"],["class","input-aggiuntivo",4,"ngIf"],[1,"input-aggiuntivo"],["type","text","placeholder","Nome del software...",3,"ngModelChange","ngModel"],[1,"indagine-form"],[1,"domanda-group"],["placeholder","Descrivi l'organizzazione attuale...",3,"ngModelChange","ngModel"],["placeholder","Elenca le principali difficolt\xE0...",3,"ngModelChange","ngModel"],["placeholder","Descrivi la situazione attuale...",3,"ngModelChange","ngModel"],["placeholder","Spiega il processo attuale...",3,"ngModelChange","ngModel"],["placeholder","Indica l'area da automatizzare...",3,"ngModelChange","ngModel"],[1,"benchmark-form"],["placeholder","Quale area vorrebbe automatizzare?",3,"ngModelChange","ngModel"],["placeholder","Descrivi la gestione documentale...",3,"ngModelChange","ngModel"],["placeholder","Valuta l'importanza di questa funzione...",3,"ngModelChange","ngModel"],[1,"distacco-content"],[1,"problemi-grid"],[1,"problema-card"],[1,"icona"],[1,"tabella-comparativa"],[1,"table-container"],[1,"crm-table"],[4,"ngFor","ngForOf"],[1,"servizi-selezione-grid"],["class","servizio-selezione-card",3,"selezionato","click",4,"ngFor","ngForOf"],[1,"servizio-selezione-card",3,"click"],[1,"servizio-icona"],[1,"checkmark"],["class","documenti-editor",3,"click",4,"ngIf"],[1,"documenti-editor",3,"click"],[1,"chips-list"],["class","chip",4,"ngFor","ngForOf"],["type","text","placeholder","Aggiungi documento e premi Invio",3,"keyup.enter"],[1,"hint"],[1,"chip"],["type","button",1,"chip-remove",3,"click"],[1,"spiegazioni-container"],["class","card spiegazione-card",4,"ngFor","ngForOf"],[1,"card","spiegazione-card"],["class","spiegazione-testo",4,"ngIf"],[1,"spiegazione-testo"],["class","visualizzazione-alert",4,"ngIf"],[1,"logo-placeholder",2,"align-items","center","display","flex","flex-direction","column"],["src","assets/yuvi.png","alt","Promethea Logo",1,"logoescritta",2,"max-width","200px","margin-bottom","var(--gutter-md)"],[1,"preventivo-container"],[1,"card","preventivo-card"],[1,"servizi-elenco"],["class","servizio-riepilogo",4,"ngFor","ngForOf"],[1,"grid-responsive"],[1,"card","opzione-prezzo",2,"cursor","pointer","position","relative","overflow","hidden",3,"click"],[2,"display","flex","justify-content","space-between","align-items","flex-start","margin-bottom","var(--gutter-md)"],[2,"margin","0"],[1,"chip",2,"background","color-mix(in srgb, var(--secondary) 20%, transparent)","color","var(--secondary)","text-transform","uppercase","font-weight","600","font-size","var(--fs-xs)"],[2,"font-size","2.5rem","font-weight","700","color","var(--text-color)","margin-bottom","0.5rem"],[2,"font-size","1rem","font-weight","400","color","var(--text-muted)"],[1,"text-muted",2,"font-size","var(--fs-sm)","margin-bottom","var(--gutter-md)"],["class","animazione-container","style","margin-top: var(--gutter-lg); padding-top: var(--gutter-md); border-top: 1px solid var(--smoke-color-1);",4,"ngIf"],[1,"chip",2,"background","color-mix(in srgb, var(--primary) 20%, transparent)","color","var(--primary)","text-transform","uppercase","font-weight","600","font-size","var(--fs-xs)"],[1,"actions-container",2,"justify-content","center"],[1,"visualizzazione-alert"],[1,"status-message","info"],[1,"servizio-riepilogo"],["class","chips-list",4,"ngIf"],[1,"animazione-container",2,"margin-top","var(--gutter-lg)","padding-top","var(--gutter-md)","border-top","1px solid var(--smoke-color-1)"],[1,"grid-responsive",2,"grid-template-columns","repeat(4, 1fr)","gap","0.5rem","margin-bottom","var(--gutter-sm)"],["class","chip mese-box",3,"gratuito","animation-delay",4,"ngFor","ngForOf"],[2,"display","flex","align-items","center","gap","0.5rem","color","var(--secondary)","font-size","var(--fs-sm)","font-weight","500","justify-content","center"],[1,"chip","mese-box"],[2,"display","flex","flex-direction","column","gap","var(--gutter-md)"],[2,"display","flex","justify-content","center","gap","0.5rem","margin-bottom","var(--gutter-sm)"],["class","moneta",3,"animation-delay",4,"ngFor","ngForOf"],[2,"font-size","var(--fs-sm)"],[2,"display","flex","justify-content","space-between","padding","0.25rem 0"],[1,"text-muted",2,"text-decoration","line-through"],[2,"display","flex","justify-content","space-between","padding","0.25rem 0","font-weight","600","color","var(--primary)"],[1,"risparmio-totale",2,"display","flex","align-items","center","gap","0.5rem","margin-top","var(--gutter-sm)","padding","var(--gutter-sm)","background","color-mix(in srgb, var(--primary) 10%, transparent)","border-radius","8px","color","var(--primary)","font-weight","600"],[1,"moneta"],[1,"esito-buttons-grid"],[1,"promethea-button","success",3,"click"],[1,"promethea-button","warning",3,"click"],[1,"promethea-button","info",3,"click"],[1,"grid-form"],[1,"form-field"],["type","text","placeholder","Nome e cognome",1,"form-input",3,"ngModelChange","ngModel"],["type","tel","placeholder","Numero di telefono",1,"form-input",3,"ngModelChange","ngModel"],["type","email","placeholder","Indirizzo email",1,"form-input",3,"ngModelChange","ngModel"],["class","card",4,"ngIf"],[1,"section-header"],[1,"material-icons","header-icon"],[1,"section-titles"],[1,"section-title"],[1,"grid-cards",2,"display","none"],["class","card",4,"ngFor","ngForOf"],["data-label","Nome"],[1,"cell-content"],["data-label","Telefono"],["class","contact-info",4,"ngIf","ngIfElse"],["data-label","Email"],["data-label","Azioni"],[1,"actions-container",2,"justify-content","flex-start"],["title","Rimuovi nominativo",1,"action-btn","delete",3,"click"],[1,"contact-info"],[1,"material-icons",2,"font-size","1rem","margin-right","0.5rem"],[1,"empty-state",2,"font-style","italic","color","#6b7280"],[1,"cell-content",2,"flex-direction","column","align-items","flex-start","gap","0.5rem"],[2,"display","flex","justify-content","space-between","width","100%","align-items","flex-start"],[2,"display","flex","flex-direction","column","gap","0.25rem","width","100%"],["class","contact-info",4,"ngIf"],["class","status-message warning",4,"ngIf"],[1,"material-icons",2,"font-size","0.875rem","margin-right","0.5rem"],[1,"status-message","warning"],[1,"material-icons",2,"font-size","0.875rem"],["class","promethea-button secondary",3,"selected","click",4,"ngFor","ngForOf"]],template:function(t,s){t&1&&(e(0,"div",3)(1,"div",4)(2,"div",5),n(3,"1"),i(),e(4,"div",5),n(5,"2"),i(),e(6,"div",5),n(7,"3"),i(),e(8,"div",5),n(9,"4"),i(),e(10,"div",5),n(11,"5"),i(),e(12,"div",5),n(13,"6"),i(),e(14,"div",5),n(15,"7"),i()()(),v(16,_t,29,9,"section",6)(17,gt,19,3,"section",6)(18,xt,30,6,"section",6)(19,ht,22,6,"section",6)(20,wt,54,2,"section",6)(21,It,13,4,"section",6)(22,Nt,11,2,"section",6)(23,Gt,45,10,"section",6)(24,Ut,19,0,"section",6)(25,ne,42,4,"section",6)(26,oe,10,2,"section",6)),t&2&&(l(2),b("active",s.currentSection==="presentazione"),l(2),b("active",s.currentSection==="domanda-software"),l(2),b("active",s.currentSection==="indagine"||s.currentSection==="benchmark"),l(2),b("active",s.currentSection==="distacco"),l(2),b("active",s.currentSection==="scelta-servizi"),l(2),b("active",s.currentSection==="spiegazioni"),l(2),b("active",s.currentSection==="chiusura"),l(2),p("ngIf",s.currentSection==="presentazione"),l(),p("ngIf",s.currentSection==="domanda-software"),l(),p("ngIf",s.currentSection==="indagine"&&s.utilizzaSoftware==="no"),l(),p("ngIf",s.currentSection==="benchmark"&&s.utilizzaSoftware==="si"),l(),p("ngIf",s.currentSection==="distacco"),l(),p("ngIf",s.currentSection==="scelta-servizi"),l(),p("ngIf",s.currentSection==="spiegazioni"),l(),p("ngIf",s.currentSection==="chiusura"),l(),p("ngIf",s.currentSection==="feedback_esito"),l(),p("ngIf",s.currentSection==="inserimento_nominativi"),l(),p("ngIf",s.currentSection==="motivazione_non_chiuso"))},dependencies:[q,W,L,X,$,J,Q,H,K,Z,R],styles:["h2[_ngcontent-%COMP%]{margin-bottom:var(--gutter-lg);color:var(--primary);text-align:center;font-weight:800}h3[_ngcontent-%COMP%]{margin-bottom:var(--gutter-lg);text-align:center}.trattativa-section[_ngcontent-%COMP%]{border-radius:24px;box-shadow:0 8px 32px var(--shadow);margin-top:var(--gutter-lg)}.presentazione-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--gutter-lg)}.logo-placeholder[_ngcontent-%COMP%]{margin-bottom:var(--gutter-lg)}.logoescritta[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.sottotitolo[_ngcontent-%COMP%]{font-size:var(--fs-md);color:var(--text-color);opacity:.8;margin:var(--gutter-sm) 0}.servizi-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--gutter-lg);margin:var(--gutter-lg) 0}.servizio-card[_ngcontent-%COMP%]{padding:var(--gutter-lg);border-radius:16px;text-align:center;transition:all .3s ease;border:2px solid transparent}.servizio-card.yuvi-primary[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--yuvi-primary) 10%,transparent);border-color:color-mix(in srgb,var(--yuvi-primary) 30%,transparent)}.servizio-card.yuvi-secondary[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--yuvi-secondary) 10%,transparent);border-color:color-mix(in srgb,var(--yuvi-secondary) 30%,transparent)}.servizio-card.yuvi-tertiary[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--yuvi-tertiary) 10%,transparent);border-color:color-mix(in srgb,var(--yuvi-tertiary) 30%,transparent)}.servizio-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px var(--shadow)}.yuvi-intro[_ngcontent-%COMP%]{background:var(--vetro);padding:var(--gutter-lg);border-radius:16px;text-align:center;margin:var(--gutter-lg) 0;border:1px solid var(--smoke-color-2)}.input-aggiuntivo[_ngcontent-%COMP%]{margin-top:var(--gutter-lg)}.problemi-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--gutter-lg);margin:var(--gutter-lg) 0}.problema-card[_ngcontent-%COMP%]{text-align:center;padding:var(--gutter-lg);background:var(--background);border-radius:16px;border:1px solid var(--smoke-color-1);transition:all .3s ease}.problema-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px var(--shadow)}.problema-card[_ngcontent-%COMP%]   .icona[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:var(--gutter-sm)}.tabella-comparativa[_ngcontent-%COMP%]{margin-top:var(--gutter-lg)}.servizi-selezione-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--gutter-lg);margin:var(--gutter-lg) 0}.servizio-selezione-card[_ngcontent-%COMP%]{position:relative;padding:var(--gutter-lg);background:var(--background);border:2px solid var(--smoke-color-1);border-radius:16px;text-align:center;cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;justify-content:center}.servizio-selezione-card[_ngcontent-%COMP%]:hover{border-color:var(--primary);transform:translateY(-2px)}.servizio-selezione-card.selezionato[_ngcontent-%COMP%]{border-color:var(--primary);background:color-mix(in srgb,var(--primary) 8%,transparent);transform:scale(1.02)}.servizio-icona[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:var(--gutter-sm)}.checkmark[_ngcontent-%COMP%]{position:absolute;top:var(--gutter-sm);right:var(--gutter-sm);width:24px;height:24px;border:2px solid var(--smoke-color-1);border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.checkmark.attivo[_ngcontent-%COMP%]{background:var(--primary);border-color:var(--primary);color:#fffaf7}.spiegazione-card[_ngcontent-%COMP%]{border-left:4px solid var(--primary)}.spiegazioni-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gutter-lg)}.documenti-editor[_ngcontent-%COMP%]{margin-top:var(--gutter-md);padding:var(--gutter-md);background:var(--smoke-color-2);border:1px solid var(--smoke-color-1);border-radius:12px}.chip-remove[_ngcontent-%COMP%]{background:transparent;border:none;color:inherit;cursor:pointer;font-size:1em;line-height:1;padding:0 4px;border-radius:4px}.chip-remove[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--text-color) 12%,transparent)}.servizio-riepilogo[_ngcontent-%COMP%]{padding:var(--gutter-sm);border-bottom:1px solid var(--smoke-color-1)}.servizio-riepilogo[_ngcontent-%COMP%]   .chips-list[_ngcontent-%COMP%]{margin-top:var(--gutter-sm);display:flex;gap:var(--gutter-sm);flex-wrap:wrap}.preventivo-container[_ngcontent-%COMP%]{margin:0 auto}.prezzi-container[_ngcontent-%COMP%]{margin-top:var(--gutter-lg)}.opzione-prezzo[_ngcontent-%COMP%]{text-align:center}.opzione-prezzo[_ngcontent-%COMP%]   .prezzo[_ngcontent-%COMP%]{font-size:var(--fs-lg);font-weight:800;color:var(--primary);margin:var(--gutter-sm) 0}.opzione-prezzo[_ngcontent-%COMP%]   .prezzo-small[_ngcontent-%COMP%]{opacity:.8;font-size:.9em;margin-bottom:var(--gutter-md)}.actions-container[_ngcontent-%COMP%]{margin-top:var(--gutter-lg)}@media (max-width: 768px){.progress-steps[_ngcontent-%COMP%]{flex-wrap:wrap;gap:var(--gutter-sm)}.servizi-grid[_ngcontent-%COMP%], .servizi-selezione-grid[_ngcontent-%COMP%], .prezzi-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulseGreen{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.3) translateY(-20px)}50%{opacity:1;transform:scale(1.1) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}@keyframes _ngcontent-%COMP%_highlight{0%,to{background:color-mix(in srgb,var(--primary) 10%,transparent)}50%{background:color-mix(in srgb,var(--primary) 15%,transparent)}}.mese-box[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale .6s ease-out both;transition:all .3s ease;background:linear-gradient(135deg,color-mix(in srgb,var(--primary) 30%,transparent),color-mix(in srgb,var(--secondary) 10%,transparent))}.mese-box.gratuito[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--secondary),color-mix(in srgb,var(--secondary) 80%,transparent));animation:_ngcontent-%COMP%_pulseGreen 1.5s ease-in-out infinite}.moneta[_ngcontent-%COMP%]{font-size:1.5rem;animation:_ngcontent-%COMP%_bounceIn .8s ease-out both,_ngcontent-%COMP%_float 2s ease-in-out infinite}.animazione-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .5s ease-out}.risparmio-totale[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_highlight 2s ease-in-out infinite}.grid-responsive[_ngcontent-%COMP%]{margin-top:var(--gutter-lg)}.esito-buttons-grid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:var(--gutter-lg)}"]})};export{it as YuviTrattativa};
