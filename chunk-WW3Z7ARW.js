import{c as Q,d as Y,e as ee,f as ie}from"./chunk-53N4BCWU.js";import{b as k,c as g,d as B,e as G,f as D,g as $,j as U,m as W,n as Z,o as j,p as q,t as H,u as K,v as X}from"./chunk-SRZMZVDW.js";import{a as J}from"./chunk-3WLDIF5C.js";import"./chunk-P5EFXTG7.js";import"./chunk-WMLYL4YD.js";import"./chunk-Q4FMGKSF.js";import{b as V,d as N,e as O,j as R,m as L,o as F}from"./chunk-NOCF4HQD.js";import{Fb as b,Ga as T,La as d,N as _,S as f,Wa as c,X as x,Xa as a,Y as A,Ya as i,Za as s,db as y,ea as h,gb as S,hb as C,mb as o,nb as u,ob as P,qb as M,rb as z,sb as I,ua as m,ub as w}from"./chunk-PE6PP35I.js";import"./chunk-X5YLR3NI.js";import{i as v}from"./chunk-ODN5LVDJ.js";var E=class r{fallbackProvinces=[{code:"AG",name:"Agrigento",region:"Sicilia"},{code:"AL",name:"Alessandria",region:"Piemonte"},{code:"AN",name:"Ancona",region:"Marche"},{code:"AO",name:"Aosta",region:"Valle d'Aosta"},{code:"AR",name:"Arezzo",region:"Toscana"},{code:"AP",name:"Ascoli Piceno",region:"Marche"},{code:"AT",name:"Asti",region:"Piemonte"},{code:"AV",name:"Avellino",region:"Campania"},{code:"BA",name:"Bari",region:"Puglia"},{code:"BG",name:"Bergamo",region:"Lombardia"},{code:"BI",name:"Biella",region:"Piemonte"},{code:"BL",name:"Belluno",region:"Veneto"},{code:"BN",name:"Benevento",region:"Campania"},{code:"BR",name:"Brindisi",region:"Puglia"},{code:"BS",name:"Brescia",region:"Lombardia"},{code:"BT",name:"Barletta-Andria-Trani",region:"Puglia"},{code:"CA",name:"Cagliari",region:"Sardegna"},{code:"CB",name:"Campobasso",region:"Molise"},{code:"CE",name:"Caserta",region:"Campania"},{code:"CH",name:"Chieti",region:"Abruzzo"},{code:"CI",name:"Carboni Iglesias",region:"Sardegna"},{code:"CL",name:"Caltanissetta",region:"Sicilia"},{code:"CN",name:"Cuneo",region:"Piemonte"},{code:"CO",name:"Como",region:"Lombardia"},{code:"CR",name:"Cremona",region:"Lombardia"},{code:"CS",name:"Cosenza",region:"Calabria"},{code:"CT",name:"Catania",region:"Sicilia"},{code:"CZ",name:"Catanzaro",region:"Calabria"},{code:"EN",name:"Enna",region:"Sicilia"},{code:"FC",name:"Forl\xEC Cesena",region:"Emilia Romagna"},{code:"FE",name:"Ferrara",region:"Emilia Romagna"},{code:"FG",name:"Foggia",region:"Puglia"},{code:"FI",name:"Firenze",region:"Toscana"},{code:"FM",name:"Fermo",region:"Marche"},{code:"FR",name:"Frosinone",region:"Lazio"},{code:"GE",name:"Genova",region:"Liguria"},{code:"GO",name:"Gorizia",region:"Friuli Venezia Giulia"},{code:"GR",name:"Grosseto",region:"Toscana"},{code:"IM",name:"Imperia",region:"Liguria"},{code:"IS",name:"Isernia",region:"Molise"},{code:"KR",name:"Crotone",region:"Calabria"},{code:"LC",name:"Lecco",region:"Lombardia"},{code:"LE",name:"Lecce",region:"Puglia"},{code:"LI",name:"Livorno",region:"Toscana"},{code:"LO",name:"Lodi",region:"Lombardia"},{code:"LT",name:"Latina",region:"Lazio"},{code:"LU",name:"Lucca",region:"Toscana"},{code:"MB",name:"Monza e della Brianza",region:"Lombardia"},{code:"MC",name:"Macerata",region:"Marche"},{code:"ME",name:"Messina",region:"Sicilia"},{code:"MI",name:"Milano",region:"Lombardia"},{code:"MN",name:"Mantova",region:"Lombardia"},{code:"MO",name:"Modena",region:"Emilia Romagna"},{code:"MS",name:"Massa Carrara",region:"Toscana"},{code:"MT",name:"Matera",region:"Basilicata"},{code:"NA",name:"Napoli",region:"Campania"},{code:"NO",name:"Novara",region:"Piemonte"},{code:"NU",name:"Nuoro",region:"Sardegna"},{code:"OG",name:"Ogliastra",region:"Sardegna"},{code:"OR",name:"Oristano",region:"Sardegna"},{code:"OT",name:"Olbia Tempio",region:"Sardegna"},{code:"PA",name:"Palermo",region:"Sicilia"},{code:"PC",name:"Piacenza",region:"Emilia Romagna"},{code:"PD",name:"Padova",region:"Veneto"},{code:"PE",name:"Pescara",region:"Abruzzo"},{code:"PG",name:"Perugia",region:"Umbria"},{code:"PI",name:"Pisa",region:"Toscana"},{code:"PN",name:"Pordenone",region:"Friuli Venezia Giulia"},{code:"PO",name:"Prato",region:"Toscana"},{code:"PR",name:"Parma",region:"Emilia Romagna"},{code:"PT",name:"Pistoia",region:"Toscana"},{code:"PV",name:"Pavia",region:"Lombardia"},{code:"PZ",name:"Potenza",region:"Basilicata"},{code:"RA",name:"Ravenna",region:"Emilia Romagna"},{code:"RC",name:"Reggio Calabria",region:"Calabria"},{code:"RE",name:"Reggio Emilia",region:"Emilia Romagna"},{code:"RG",name:"Ragusa",region:"Sicilia"},{code:"RI",name:"Rieti",region:"Lazio"},{code:"RM",name:"Roma",region:"Lazio"},{code:"RN",name:"Rimini",region:"Emilia Romagna"},{code:"RO",name:"Rovigo",region:"Veneto"},{code:"SA",name:"Salerno",region:"Campania"},{code:"SI",name:"Siena",region:"Toscana"},{code:"SO",name:"Sondrio",region:"Lombardia"},{code:"SP",name:"La Spezia",region:"Liguria"},{code:"SR",name:"Siracusa",region:"Sicilia"},{code:"SS",name:"Sassari",region:"Sardegna"},{code:"SU",name:"Medio Campidano",region:"Sardegna"},{code:"SV",name:"Savona",region:"Liguria"},{code:"TA",name:"Taranto",region:"Puglia"},{code:"TE",name:"Teramo",region:"Abruzzo"},{code:"TN",name:"Trento",region:"Trentino-Alto Adige"},{code:"TO",name:"Torino",region:"Piemonte"},{code:"TP",name:"Trapani",region:"Sicilia"},{code:"TR",name:"Terni",region:"Umbria"},{code:"TS",name:"Trieste",region:"Friuli Venezia Giulia"},{code:"TV",name:"Treviso",region:"Veneto"},{code:"UD",name:"Udine",region:"Friuli Venezia Giulia"},{code:"VA",name:"Varese",region:"Lombardia"},{code:"VB",name:"Verbano-Cusio-Ossola",region:"Piemonte"},{code:"VC",name:"Vercelli",region:"Piemonte"},{code:"VE",name:"Venezia",region:"Veneto"},{code:"VI",name:"Vicenza",region:"Veneto"},{code:"VT",name:"Viterbo",region:"Lazio"}];getProvinces(){return[...this.fallbackProvinces].sort((e,t)=>e.name.localeCompare(t.name))}searchProvinces(e){if(!e||e.length<1)return this.getProvinces();let t=e.toLowerCase();return this.fallbackProvinces.filter(n=>n.name.toLowerCase().includes(t)||n.code.toLowerCase().includes(t)||n.region.toLowerCase().includes(t)).sort((n,l)=>n.name.localeCompare(l.name))}getProvinceByCode(e){return this.fallbackProvinces.find(t=>t.code.toUpperCase()===e.toUpperCase())||null}getRegions(){return[...new Set(this.fallbackProvinces.map(t=>t.region))].sort()}getProvincesByRegion(e){return this.fallbackProvinces.filter(t=>t.region===e).sort((t,n)=>t.name.localeCompare(n.name))}static \u0275fac=function(t){return new(t||r)};static \u0275prov=_({token:r,factory:r.\u0275fac,providedIn:"root"})};var ne=()=>({standalone:!0});function ae(r,e){r&1&&(a(0,"small",40),o(1,"Campo obbligatorio"),i())}function re(r,e){r&1&&(a(0,"small",40),o(1,"Minimo 2 caratteri"),i())}function le(r,e){r&1&&(a(0,"small",40),o(1,"Formato non valido (max 11 cifre)"),i())}function me(r,e){if(r&1&&(a(0,"option",41),o(1),i()),r&2){let t=e.$implicit;c("value",t),m(),u(t)}}function ce(r,e){r&1&&(a(0,"small",40),o(1,"Campo obbligatorio"),i())}function se(r,e){if(r&1&&(a(0,"option",41),o(1),i()),r&2){let t=e.$implicit;c("value",t),m(),u(t)}}function de(r,e){if(r&1){let t=y();a(0,"div",44),S("click",function(){let l=x(t).$implicit,p=C(2);return A(p.onProvinciaSelect(l))}),a(1,"div",45)(2,"strong"),o(3),i(),a(4,"span",46),o(5),i()(),a(6,"small",47),o(7),i()()}if(r&2){let t=e.$implicit;m(3),u(t.name),m(2),P("(",t.code,")"),m(2),u(t.region)}}function ge(r,e){if(r&1&&(a(0,"div",42),d(1,de,8,3,"div",43),i()),r&2){let t=C();m(),c("ngForOf",t.filteredProvinces.slice(0,8))}}function pe(r,e){r&1&&(a(0,"small",40),o(1,"Numero non valido"),i())}function ue(r,e){r&1&&(a(0,"small",40),o(1,"Email non valida"),i())}function fe(r,e){r&1&&(a(0,"small",40),o(1,"URL non valido"),i())}function ve(r,e){if(r&1&&(a(0,"option",41),o(1),i()),r&2){let t=e.$implicit;c("value",t),m(),u(t)}}function Se(r,e){r&1&&(a(0,"small",40),o(1,"IBAN non valido"),i())}function he(r,e){r&1&&(a(0,"span",8),o(1,"save"),i())}function be(r,e){r&1&&s(0,"span",48)}var te=class r{fb=f(H);route=f(L);router=f(F);soggettiService=f(J);location=f(V);geoService=f(E);provinces=[];filteredProvinces=[];showProvinceDropdown=!1;selectedProvince="";selectedComune="";provinciaSearch="";tipo=h("prospect");isSubmitting=h(!1);id=h(null);isEdit=b(()=>!!this.id());prodotti=Q;form;formuleSocietarie=Y;categorieAtecoMacro=ee;metodiPagamento=ie;submitCooldown=!1;titolo=b(()=>{let e=t=>t==="cliente"?"Cliente":t==="fornitore"?"Fornitore":"Prospect";return`${this.isEdit()?"Modifica":"Nuovo"} ${e(this.tipo())}`});icona=b(()=>{let e=this.tipo();return e==="cliente"?"person":e==="fornitore"?"local_shipping":"person_search"});ngOnInit(){return v(this,null,function*(){this.provinces=this.geoService.getProvinces(),this.filteredProvinces=this.provinces;let e=(this.route.snapshot.paramMap.get("tipo")||"").toLowerCase();["cliente","fornitore","prospect"].includes(e)&&this.tipo.set(e);let t=this.route.snapshot.paramMap.get("id");t&&this.id.set(t),this.initializeForm(),this.isEdit()&&(yield this.loadSoggetto(this.id())),this.route.paramMap.subscribe(n=>v(this,null,function*(){let l=n.get("id"),p=(n.get("tipo")||"").toLowerCase();l&&l!==this.id()?(this.id.set(l),yield this.loadSoggetto(l)):["cliente","fornitore","prospect"].includes(p)&&(this.tipo.set(p),this.updateConditionalValidators())}))})}loadSoggetto(e){return v(this,null,function*(){let{data:t,error:n}=yield this.soggettiService.getSoggettoById(e);if(n||!t){alert("Impossibile caricare il soggetto selezionato");return}if(this.tipo.set(t.tipo),t.provincia){this.selectedProvince=t.provincia;let l=this.geoService.getProvinceByCode(t.provincia);l&&(this.provinciaSearch=`${l.name} (${l.code})`)}this.form.patchValue({ragioneSociale:t.ragione_sociale,piva:t.piva,formulaSocietaria:t.formula_societaria,categoriaAteco:t.categoria_ateco,prodotto:t.prodotto||"Promethea",referente:t.referente,telefono:t.telefono,email:t.email,sitoWeb:t.sito_web,facebook:t.facebook,instagram:t.instagram,metodoPagamento:t.metodo_pagamento,iban:t.iban,note:t.note,provincia:t.provincia,comune:t.comune,indirizzo:t.indirizzo,numeroCivico:t.numero_civico},{emitEvent:!1}),this.updateConditionalValidators()})}initializeForm(){this.form=this.fb.group({ragioneSociale:["",[g.required,g.minLength(2)]],piva:["",[g.pattern(/^\d{0,11}$/)]],formulaSocietaria:[""],categoriaAteco:[""],referente:[""],telefono:["",[g.pattern(/^[+]?[\d\s\-()]{0,}$/)]],email:["",[g.email]],sitoWeb:["",[g.pattern(/^(https?:\/\/)?([\w\-]+\.)+[\w\-]{2,}(\/.*)?$|^$/i)]],facebook:[""],instagram:[""],iban:["",[g.pattern(/^[A-Z]{2}\d{2}[A-Z0-9]{0,30}$|^$/i)]],metodoPagamento:[""],note:[""],prodotto:["Promethea",g.required],provincia:[""],comune:[""],indirizzo:[""],numeroCivico:[""]}),this.updateConditionalValidators(),this.form.get("metodoPagamento").valueChanges.subscribe(e=>{let t=this.form.get("iban");e==="Bonifico"||e==="SEPA Direct Debit"?t.enable({emitEvent:!1}):(t.disable({emitEvent:!1}),t.reset("",{emitEvent:!1}))}),this.form.updateValueAndValidity()}updateConditionalValidators(){let e=this.tipo()!=="prospect",t=this.form.get("ragioneSociale"),n=this.form.get("piva"),l=this.form.get("formulaSocietaria");e?(t.addValidators(g.required),l.addValidators(g.required)):(t.removeValidators(g.required),l.removeValidators(g.required)),t.updateValueAndValidity(),n.updateValueAndValidity(),l.updateValueAndValidity()}submit(){return v(this,null,function*(){if(this.submitCooldown||this.isSubmitting()||(this.submitCooldown=!0,setTimeout(()=>{this.submitCooldown=!1},2e3),this.isSubmitting()))return;if(this.form.markAllAsTouched(),this.form.invalid){alert("Compila tutti i campi obbligatori correttamente");return}this.isSubmitting.set(!0);let e=this.form.value;try{if(this.isEdit()){let t={id:this.id(),ragioneSociale:e.ragioneSociale,piva:e.piva?.trim()??"",formulaSocietaria:e.formulaSocietaria,categoriaAteco:e.categoriaAteco,referente:e.referente,telefono:e.telefono,email:e.email,sitoWeb:e.sitoWeb,facebook:e.facebook,instagram:e.instagram,metodoPagamento:e.metodoPagamento,iban:e.iban,note:e.note,prodotto:e.prodotto,provincia:e.provincia,comune:e.comune,indirizzo:e.indirizzo,numeroCivico:e.numeroCivico},n=yield this.soggettiService.updateSoggetto(t);if(!n.success)throw new Error(n.error);if(e.provincia||e.comune){console.log("\u{1F504} Geocodifica automatica dopo modifica...");let l=yield this.soggettiService.geocodificaEAggiornaSoggetto(this.id());l.success?console.log("\u2705 Coordinate aggiornate con successo"):console.warn("\u26A0\uFE0F Geocodifica non riuscita:",l.error)}alert("Anagrafica aggiornata con successo"),this.router.navigate(["/lista-prospect"])}else{let t={tipo:this.tipo(),ragioneSociale:e.ragioneSociale,piva:e.piva?.trim()||void 0,formulaSocietaria:e.formulaSocietaria,categoriaAteco:e.categoriaAteco,referente:e.referente,telefono:e.telefono,email:e.email,sitoWeb:e.sitoWeb,facebook:e.facebook,instagram:e.instagram,metodoPagamento:e.metodoPagamento,iban:e.iban,note:e.note,prodotto:e.prodotto||"Promethea",provincia:e.provincia,comune:e.comune,indirizzo:e.indirizzo,numeroCivico:e.numeroCivico},n=yield this.soggettiService.createSoggetto(t);if(!n.success)throw new Error(n.error);if(n.data&&(e.provincia||e.comune)){console.log("\u{1F504} Geocodifica automatica dopo creazione...");let l=yield this.soggettiService.geocodificaEAggiornaSoggetto(n.data.id);l.success?console.log("\u2705 Coordinate aggiornate con successo"):console.warn("\u26A0\uFE0F Geocodifica non riuscita:",l.error)}alert(`${this.titolo()} aggiunto con successo!`),this.resetFormCompletely()}}catch(t){console.error("Errore durante il salvataggio:",t),alert(`Errore: ${t?.message||"Operazione non riuscita"}`)}finally{this.isSubmitting.set(!1)}})}resetFormCompletely(){this.form.reset({prodotto:"Promethea"},{emitEvent:!1}),this.form.markAsPristine(),this.form.markAsUntouched(),this.updateConditionalValidators(),setTimeout(()=>{this.form.updateValueAndValidity()},0)}hasError(e,t){let n=this.form.get(e);return!!(n&&n.touched&&n.hasError(t))}cancel(){let e=globalThis?.history;if(e&&typeof e.length=="number"&&e.length>1)this.location.back();else{let t=this.tipo();this.router.navigate([t==="prospect"?"/lista-prospect":"/home"])}}onProvinciaSearchChange(e){if(this.provinciaSearch=e,!e||e.length<1){this.filteredProvinces=[];return}this.filteredProvinces=this.geoService.searchProvinces(e),this.showProvinceDropdown=!0}onProvinciaSelect(e){this.selectedProvince=e.code,this.provinciaSearch=`${e.name} (${e.code})`,this.form.patchValue({provincia:e.code}),this.filteredProvinces=[],this.showProvinceDropdown=!1}onProvinciaFocus(){this.provinciaSearch.length>0&&(this.filteredProvinces=this.geoService.searchProvinces(this.provinciaSearch)),this.showProvinceDropdown=!0}onProvinciaBlur(){setTimeout(()=>{this.showProvinceDropdown=!1},200)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=T({type:r,selectors:[["app-add-soggetto"]],decls:171,vars:22,consts:[[1,"add-wrapper"],[1,"section-header"],[1,"material-icons","header-icon"],[1,"section-titles"],[1,"section-title"],[1,"flex-1"],[1,"form-sections",3,"submit","formGroup"],[1,"form-section"],[1,"material-icons"],[1,"grid-form"],[1,"form-field","form-field-col-span"],[1,"form-label"],["type","text","formControlName","ragioneSociale","placeholder","Es. Acme S.r.l."],["class","error",4,"ngIf"],[1,"form-field"],["type","text","formControlName","piva","placeholder","Opzionale - 11 cifre","inputmode","numeric"],["formControlName","formulaSocietaria"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","categoriaAteco"],[1,"autocomplete-container"],["type","text","placeholder","Cerca provincia...","autocomplete","off",3,"ngModelChange","input","focus","blur","ngModel","ngModelOptions"],["class","autocomplete-dropdown",4,"ngIf"],["type","text","formControlName","comune","placeholder","Es. Trieste"],["type","text","formControlName","indirizzo","placeholder","Es. Via Roma"],["type","text","formControlName","numeroCivico","placeholder","Es. 123"],["type","text","formControlName","referente","placeholder","Es. Mario Rossi"],["type","tel","formControlName","telefono","placeholder","+39 ...","inputmode","tel"],["type","email","formControlName","email","placeholder","nome@dominio.tld"],["type","url","formControlName","sitoWeb","placeholder","https://..."],["type","url","formControlName","facebook","placeholder","https://facebook.com/..."],["type","url","formControlName","instagram","placeholder","https://instagram.com/..."],["formControlName","metodoPagamento"],["type","text","formControlName","iban","placeholder","IT60X0542811101000000123456"],["rows","4","formControlName","note","placeholder","Aggiungi note utili..."],[1,"actions-container"],["type","button",1,"promethea-button","ghost",3,"click"],["type","submit",1,"promethea-button",3,"disabled"],["class","material-icons",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"error"],[3,"value"],[1,"autocomplete-dropdown"],["class","autocomplete-item",3,"click",4,"ngFor","ngForOf"],[1,"autocomplete-item",3,"click"],[1,"autocomplete-main"],[1,"province-code"],[1,"autocomplete-secondary"],[1,"loading-spinner"]],template:function(t,n){t&1&&(a(0,"section",0)(1,"header",1)(2,"i",2),o(3),i(),a(4,"div",3)(5,"h2",4),o(6),i()(),s(7,"div",5),i(),a(8,"form",6),S("submit",function(){return n.submit()}),a(9,"fieldset",7)(10,"legend",4)(11,"span",8),o(12,"apartment"),i(),o(13," Dati aziendali "),i(),a(14,"div",9)(15,"label",10)(16,"span",11)(17,"span",8),o(18,"business"),i(),o(19," Ragione sociale"),i(),s(20,"input",12),d(21,ae,2,0,"small",13)(22,re,2,0,"small",13),i(),a(23,"label",14)(24,"span",11)(25,"span",8),o(26,"numbers"),i(),o(27," P.IVA"),i(),s(28,"input",15),d(29,le,2,0,"small",13),i(),a(30,"label",14)(31,"span",11)(32,"span",8),o(33,"domain"),i(),o(34," Formula societaria"),i(),a(35,"select",16)(36,"option",17),o(37,"\u2014 Seleziona \u2014"),i(),d(38,me,2,2,"option",18),i(),d(39,ce,2,0,"small",13),i(),a(40,"label",14)(41,"span",11)(42,"span",8),o(43,"category"),i(),o(44," Categoria merceologica (ATECO macro)"),i(),a(45,"select",19)(46,"option",17),o(47,"\u2014 Seleziona \u2014"),i(),d(48,se,2,2,"option",18),i()()()(),a(49,"fieldset",7)(50,"legend",4)(51,"span",8),o(52,"place"),i(),o(53," Indirizzo "),i(),a(54,"div",9)(55,"label",14)(56,"span",11)(57,"span",8),o(58,"map"),i(),o(59," Provincia "),i(),a(60,"div",20)(61,"input",21),I("ngModelChange",function(p){return z(n.provinciaSearch,p)||(n.provinciaSearch=p),p}),S("input",function(p){return n.onProvinciaSearchChange(p.target.value)})("focus",function(){return n.onProvinciaFocus()})("blur",function(){return n.onProvinciaBlur()}),i(),d(62,ge,2,1,"div",22),i()(),a(63,"label",14)(64,"span",11)(65,"span",8),o(66,"location_city"),i(),o(67," Comune "),i(),s(68,"input",23),i(),a(69,"label",10)(70,"span",11)(71,"span",8),o(72,"signpost"),i(),o(73," Indirizzo "),i(),s(74,"input",24),i(),a(75,"label",14)(76,"span",11)(77,"span",8),o(78,"home"),i(),o(79," Numero Civico "),i(),s(80,"input",25),i()()(),a(81,"fieldset",7)(82,"legend",4)(83,"span",8),o(84,"contacts"),i(),o(85," Referente e contatti "),i(),a(86,"div",9)(87,"label",14)(88,"span",11)(89,"span",8),o(90,"badge"),i(),o(91," Referente"),i(),s(92,"input",26),i(),a(93,"label",14)(94,"span",11)(95,"span",8),o(96,"call"),i(),o(97," Telefono"),i(),s(98,"input",27),d(99,pe,2,0,"small",13),i(),a(100,"label",14)(101,"span",11)(102,"span",8),o(103,"mail"),i(),o(104," Email"),i(),s(105,"input",28),d(106,ue,2,0,"small",13),i()()(),a(107,"fieldset",7)(108,"legend",4)(109,"span",8),o(110,"public"),i(),o(111," Web e social "),i(),a(112,"div",9)(113,"label",14)(114,"span",11)(115,"span",8),o(116,"language"),i(),o(117," Sito web"),i(),s(118,"input",29),d(119,fe,2,0,"small",13),i(),a(120,"label",14)(121,"span",11)(122,"span",8),o(123,"facebook"),i(),o(124," Facebook"),i(),s(125,"input",30),i(),a(126,"label",14)(127,"span",11)(128,"span",8),o(129,"camera_alt"),i(),o(130," Instagram"),i(),s(131,"input",31),i()()(),a(132,"fieldset",7)(133,"legend",4)(134,"span",8),o(135,"payments"),i(),o(136," Pagamenti "),i(),a(137,"div",9)(138,"label",14)(139,"span",11)(140,"span",8),o(141,"account_balance_wallet"),i(),o(142," Metodo di pagamento"),i(),a(143,"select",32)(144,"option",17),o(145,"\u2014 Non specificato \u2014"),i(),d(146,ve,2,2,"option",18),i()(),a(147,"label",10)(148,"span",11)(149,"span",8),o(150,"credit_card"),i(),o(151," IBAN"),i(),s(152,"input",33),d(153,Se,2,0,"small",13),i()()(),a(154,"fieldset",7)(155,"legend",4)(156,"span",8),o(157,"notes"),i(),o(158," Note "),i(),a(159,"div",9)(160,"label",10),s(161,"textarea",34),i()()(),a(162,"div",35)(163,"button",36),S("click",function(){return n.cancel()}),a(164,"span",8),o(165,"close"),i(),o(166," Annulla "),i(),a(167,"button",37),d(168,he,2,0,"span",38)(169,be,1,0,"span",39),o(170),i()()()()),t&2&&(m(3),u(n.icona()),m(3),u(n.titolo()),m(2),c("formGroup",n.form),m(13),c("ngIf",n.hasError("ragioneSociale","required")),m(),c("ngIf",n.hasError("ragioneSociale","minlength")),m(7),c("ngIf",n.hasError("piva","pattern")),m(9),c("ngForOf",n.formuleSocietarie),m(),c("ngIf",n.hasError("formulaSocietaria","required")),m(9),c("ngForOf",n.categorieAtecoMacro),m(13),M("ngModel",n.provinciaSearch),c("ngModelOptions",w(21,ne)),m(),c("ngIf",n.showProvinceDropdown&&n.filteredProvinces.length>0),m(37),c("ngIf",n.hasError("telefono","pattern")),m(7),c("ngIf",n.hasError("email","email")),m(13),c("ngIf",n.hasError("sitoWeb","pattern")),m(27),c("ngForOf",n.metodiPagamento),m(7),c("ngIf",n.hasError("iban","pattern")),m(14),c("disabled",n.form.invalid||n.isSubmitting()),m(),c("ngIf",!n.isSubmitting()),m(),c("ngIf",n.isSubmitting()),m(),P(" ",n.isSubmitting()?"Salvataggio...":"Salva"," "))},dependencies:[R,N,O,X,$,j,q,k,Z,B,G,U,W,K,D],styles:[".form-sections[_ngcontent-%COMP%]{display:grid;gap:var(--gutter-lg)}.autocomplete-container[_ngcontent-%COMP%]{position:relative}.autocomplete-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:var(--background);border:1px solid var(--smoke-color-1);border-radius:8px;box-shadow:0 4px 12px var(--shadow);max-height:250px;overflow-y:auto;z-index:1000;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.autocomplete-item[_ngcontent-%COMP%]{padding:var(--gutter-sm);cursor:pointer;border-bottom:1px solid var(--smoke-color-1);transition:background-color .2s ease;display:flex;flex-direction:column;gap:.25rem}.autocomplete-item[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--primary) 10%,transparent)}.autocomplete-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.autocomplete-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.province-code[_ngcontent-%COMP%]{color:var(--primary);font-weight:500;font-size:var(--fs-sm)}.autocomplete-secondary[_ngcontent-%COMP%]{color:var(--text-muted);font-size:var(--fs-sm);font-style:italic}"]})};export{te as AddSoggetto};
