import{b as q,d as G,f as Y,h as H,n as K,o as Q,p as X,u as Z}from"./chunk-3JKT2CHV.js";import{a as D}from"./chunk-E6VA6WPN.js";import{b as J,c as R}from"./chunk-UXRZ756H.js";import{d as W,e as B,k as j}from"./chunk-233B5766.js";import{Bb as b,Fa as v,Fb as l,Gb as C,Hb as M,Ib as F,Jb as h,Kb as f,La as I,Lb as y,Pb as k,Ra as O,S as U,Wa as _,X as d,Xb as E,Y as p,dc as N,gb as g,hb as a,ib as o,nb as z,ob as T,qb as P,tb as u,ub as c}from"./chunk-R6HFAJZF.js";import"./chunk-X5YLR3NI.js";import{a as A,b as V,i as S}from"./chunk-ODN5LVDJ.js";var L=()=>({standalone:!0});function ee(r,e){if(r&1&&(a(0,"option",30),l(1),o()),r&2){let i=e.$implicit;g("value",i.id),v(),C(i.label)}}function ie(r,e){if(r&1){let i=P();z(0),a(1,"select",21),y("ngModelChange",function(t){d(i);let s=c(3);return f(s.selectedUserId,t)||(s.selectedUserId=t),p(t)}),u("ngModelChange",function(t){d(i);let s=c(3);return p(s.onUserChange(t))}),_(2,ee,2,2,"option",29),o(),T()}if(r&2){let i=c(3);v(),h("ngModel",i.selectedUserId),v(),g("ngForOf",i.users)}}function te(r,e){if(r&1&&(a(0,"div",31),l(1),o(),a(2,"div",19),l(3,"Stai modificando il sistema del tuo account"),o()),r&2){let i=c(3);v(),C(i.getUserLabel(i.selectedUserId))}}function ne(r,e){if(r&1&&(a(0,"option",17),l(1),o()),r&2){let i=e.$implicit;g("ngValue",i.id),v(),C(i.nome)}}function oe(r,e){if(r&1){let i=P();a(0,"div",36)(1,"input",37),y("ngModelChange",function(t){let s=d(i).$implicit;return f(s.titolo,t)||(s.titolo=t),p(t)}),o(),a(2,"input",38),y("ngModelChange",function(t){let s=d(i).$implicit;return f(s.importo,t)||(s.importo=t),p(t)}),o(),a(3,"button",11),u("click",function(){let t=d(i).index,s=c(4);return p(s.removeImporto(t))}),l(4,"Rimuovi"),o()()}if(r&2){let i=e.$implicit;v(),h("ngModel",i.titolo),g("ngModelOptions",k(4,L)),v(),h("ngModel",i.importo),g("ngModelOptions",k(5,L))}}function re(r,e){if(r&1){let i=P();a(0,"div",36)(1,"input",39),y("ngModelChange",function(t){let s=d(i).$implicit;return f(s.soglia,t)||(s.soglia=t),p(t)}),o(),a(2,"input",40),y("ngModelChange",function(t){let s=d(i).$implicit;return f(s.bonus,t)||(s.bonus=t),p(t)}),o(),a(3,"button",11),u("click",function(){let t=d(i).index,s=c(4);return p(s.removePasso(t))}),l(4,"Rimuovi"),o()()}if(r&2){let i=e.$implicit;v(),h("ngModel",i.soglia),v(),h("ngModel",i.bonus)}}function ae(r,e){if(r&1){let i=P();a(0,"div")(1,"div",20)(2,"label",14),l(3,"Importi per tipologia"),o(),_(4,oe,5,6,"div",32),a(5,"div",33)(6,"button",34),u("click",function(){d(i);let t=c(3);return p(t.addImporto())}),l(7,"Aggiungi importo"),o()(),a(8,"div",35),l(9,"Puoi aggiungere pi\xF9 importi per diverse tipologie (es. mensile, annuale). Modifica il titolo per distinguerli."),o()(),a(10,"div",20)(11,"label",14),l(12,"Step / Bonus"),o(),_(13,re,5,2,"div",32),a(14,"div",33)(15,"button",34),u("click",function(){d(i);let t=c(3);return p(t.addPasso())}),l(16,"Aggiungi passo"),o()()()()}if(r&2){let i=c(3);v(4),g("ngForOf",i.provvigioni.gettone.importi)("ngForTrackBy",i.trackByImporto),v(9),g("ngForOf",i.provvigioni.gettone.passi)("ngForTrackBy",i.trackByPasso)}}function se(r,e){if(r&1){let i=P();a(0,"div")(1,"div",20)(2,"label",14),l(3,"Percentuale (%)"),o(),a(4,"input",41),y("ngModelChange",function(t){d(i);let s=c(3);return f(s.provvigioni.percentuale.percent,t)||(s.provvigioni.percentuale.percent=t),p(t)}),o()()()}if(r&2){let i=c(3);v(4),h("ngModel",i.provvigioni.percentuale.percent)}}function le(r,e){r&1&&(a(0,"span"),l(1,"Salvataggio..."),o())}function ve(r,e){r&1&&(a(0,"span"),l(1,"Salva"),o())}function ce(r,e){if(r&1&&(a(0,"span",42),l(1),o()),r&2){let i=c(3);v(),C(i.message)}}function ge(r,e){if(r&1){let i=P();a(0,"div")(1,"div",13)(2,"label",14),l(3,"Utente"),o(),_(4,ie,3,2,"ng-container",12)(5,te,4,1,"ng-template",null,2,E),o(),a(7,"div",15)(8,"label",14),l(9,"Prodotto collegato (opzionale)"),o(),a(10,"select",16),y("ngModelChange",function(t){d(i);let s=c(2);return f(s.provvigioni.prodotto_id,t)||(s.provvigioni.prodotto_id=t),p(t)}),a(11,"option",17),l(12,"Nessuno"),o(),_(13,ne,2,2,"option",18),o(),a(14,"div",19),l(15,"Seleziona il prodotto a cui associare questo sistema provvigionale. Puoi anche associare importi specifici per tipologia."),o()(),a(16,"div",20)(17,"label",14),l(18,"Modalit\xE0"),o(),a(19,"select",21),y("ngModelChange",function(t){d(i);let s=c(2);return f(s.provvigioni.tipo,t)||(s.provvigioni.tipo=t),p(t)}),a(20,"option",22),l(21,"Gettone (importo fisso per contratto)"),o(),a(22,"option",23),l(23,"Percentuale sul totale"),o()()(),_(24,ae,17,4,"div",24)(25,se,5,1,"div",24),a(26,"div",20)(27,"label",14),l(28,"Note"),o(),a(29,"textarea",21),y("ngModelChange",function(t){d(i);let s=c(2);return f(s.provvigioni.note,t)||(s.provvigioni.note=t),p(t)}),o()(),a(30,"div",25)(31,"button",26),u("click",function(){d(i);let t=c(2);return p(t.save())}),_(32,le,2,0,"span",24)(33,ve,2,0,"span",24),o(),a(34,"button",27),u("click",function(){d(i);let t=c(2);return p(t.cancelEdit())}),l(35,"Annulla"),o(),_(36,ce,2,1,"span",28),o()()}if(r&2){let i=b(6),n=c(2);v(4),g("ngIf",n.isAdmin)("ngIfElse",i),v(6),h("ngModel",n.provvigioni.prodotto_id),g("ngModelOptions",k(15,L)),v(),g("ngValue",null),v(2),g("ngForOf",n.prodotti),v(6),h("ngModel",n.provvigioni.tipo),v(5),g("ngIf",n.provvigioni.tipo==="gettone"),v(),g("ngIf",n.provvigioni.tipo==="percentuale"),v(4),h("ngModel",n.provvigioni.note),v(2),g("disabled",n.saving),v(),g("ngIf",n.saving),v(),g("ngIf",!n.saving),v(),g("disabled",n.saving),v(2),g("ngIf",n.message)}}function de(r,e){if(r&1){let i=P();a(0,"div",46)(1,"div",47)(2,"div",48)(3,"div",49),l(4),o(),a(5,"div",50)(6,"strong"),l(7,"Proprietario:"),o(),l(8),o(),a(9,"div",51),l(10),o()(),a(11,"div",52)(12,"div",53)(13,"button",11),u("click",function(){d(i);let t=c(4);return p(t.editProvvigione(t.activeProvvigioneIndex))}),l(14,"Modifica"),o(),a(15,"button",54),u("click",function(){d(i);let t=c(4);return p(t.deleteProvvigione(t.activeProvvigioneIndex))}),o()(),a(16,"div",55),l(17),o()()()()}if(r&2){let i=e.ngIf,n=c(4);v(4),F("",i.tipo==="gettone"?"Gettone":"Percentuale"," \u2014 ",n.productName(i.prodotto_id)),v(4),M(" ",i.__owner_label||n.getUserLabel(i.__owner_id)||"\u2014"," "),v(2),M(" ",i.note||"Nessuna nota"," "),v(7),M("#",n.activeProvvigioneIndex+1)}}function pe(r,e){if(r&1&&(a(0,"div",20)(1,"h2",44),l(2,"Sistemi provvigionali presenti"),o(),_(3,de,18,5,"div",45),o()),r&2){let i=c(3);v(3),g("ngIf",i.provvigioniList[i.activeProvvigioneIndex])}}function me(r,e){r&1&&(a(0,"div",19),l(1,'Non sono presenti sistemi provvigionali. Premi "Aggiungi sistema" per crearne uno.'),o())}function _e(r,e){if(r&1&&_(0,pe,4,1,"div",43)(1,me,2,0,"ng-template",null,3,E),r&2){let i=b(2),n=c(2);g("ngIf",n.provvigioniList&&n.provvigioniList.length)("ngIfElse",i)}}function ue(r,e){if(r&1&&(a(0,"div"),_(1,ge,37,16,"div",12)(2,_e,3,2,"ng-template",null,1,E),o()),r&2){let i=b(3),n=c();v(),g("ngIf",n.isEditing)("ngIfElse",i)}}function he(r,e){r&1&&(a(0,"div",56),l(1,"Caricamento..."),o())}var $=class r{constructor(e,i,n){this.auth=e;this.userService=i;this.supabaseService=n}loading=!1;saving=!1;message=null;isAdmin=!1;users=[];selectedUserId=null;fetchingLabels=new Set;prodotti=[];userId=null;provvigioni=null;provvigioniList=[];activeProvvigioneIndex=0;isEditing=!1;cdr=U(N);ngOnInit(){return S(this,null,function*(){this.loading=!0;try{yield this.auth.ensureAuthInitialized(),this.userId=this.auth.getCurrentUserId(),this.isAdmin=this.userService.isAdmin?.()??!1,yield this.loadProducts?.(),this.isAdmin?(yield this.loadUsers(),!this.selectedUserId&&this.users.length&&(this.selectedUserId=this.users[0].id??null),yield this.loadAllProvvigioniFromUsers()):yield this.loadProvvigioniFor(this.userId)}catch(e){console.error("ngOnInit sistema provvigionale error",e),this.message="Errore caricamento"}finally{this.loading=!1,this.cdr.markForCheck()}})}loadUsers(){return S(this,null,function*(){try{let{data:e,error:i}=yield this.supabaseService.getAppUsers();if(i)throw i;let n=Array.isArray(e)?e:[];this.users=n.map(t=>V(A({},t),{label:(t.first_name||t.last_name)&&`${(t.first_name||"").trim()} ${(t.last_name||"").trim()}`.trim()||(t.display_name&&String(t.display_name).trim()!==""?t.display_name:t.email||"\u2014")}))}catch(e){console.error("Errore loadUsers",e),this.users=[]}})}loadAllProvvigioniFromUsers(){return S(this,null,function*(){try{let e=[];for(let i of this.users)try{let n=i.id;if(!n)continue;let m=((yield this.userService.getUserById(n))?.data??null)?.provvigioni??null;if(Array.isArray(m))m.forEach(x=>{let w=this.normalizeProvvigioni(JSON.parse(JSON.stringify(x)));w.__owner_id=n,w.__owner_label=i.label??i.email??n,e.push(w)});else if(m&&typeof m=="object"){let x=this.normalizeProvvigioni(JSON.parse(JSON.stringify(m)));x.__owner_id=n,x.__owner_label=i.label??i.email??n,e.push(x)}}catch(n){console.warn("Errore caricamento provvigioni per user",i.id,n);continue}e.length===0&&e.push(this.normalizeProvvigioni(null)),this.provvigioniList=e,this.activeProvvigioneIndex=0,this.provvigioni=this.provvigioniList[this.activeProvvigioneIndex],this.cdr.markForCheck()}catch(e){console.error("Errore loadAllProvvigioniFromUsers",e),this.message="Errore caricamento provvigioni"}})}loadProducts(){return S(this,null,function*(){try{let e=yield this.supabaseService.getProdotti?.()??this.supabaseService.supabase.from("prodotti").select("id, nome, descrizione, categoria, prezzo_base, attivo");console.debug("[sistema-provvigionale] raw products response:",e);let i=Array.isArray(e)?e:e?.data??null,n=Array.isArray(i)?i:[];if(!n.length){console.warn('[sistema-provvigionale] Nessun prodotto trovato nel DB. Verifica tabella "prodotti" o permessi.'),this.prodotti=[{id:"promethea",nome:"Promethea",descrizione:"",categoria:"Standard",prezzo_base:null,attivo:!0},{id:"yuvi",nome:"YUVI",descrizione:"",categoria:"Standard",prezzo_base:null,attivo:!0}];return}this.prodotti=n.map(t=>({id:t.id??t.ID??null,nome:t.nome??t.name??"",descrizione:t.descrizione??t.description??"",categoria:t.categoria??t.category??"",prezzo_base:t.prezzo_base??t.price??null,attivo:!!(t.attivo??t.active??!0)})).filter(t=>!!t.nome),console.debug("[sistema-provvigionale] prodotti caricati normalizzati:",this.prodotti)}catch(e){console.error("Errore loadProducts",e),this.prodotti=[]}})}loadProvvigioniFor(e){return S(this,null,function*(){this.loading=!0;try{let t=((yield this.userService.getUserById(e))?.data??null)?.provvigioni??null;Array.isArray(t)?this.provvigioniList=t.map(m=>this.normalizeProvvigioni(JSON.parse(JSON.stringify(m)))):t&&typeof t=="object"?this.provvigioniList=[this.normalizeProvvigioni(JSON.parse(JSON.stringify(t)))]:this.provvigioniList=[this.normalizeProvvigioni(null)];let s=this.users.find(m=>m.id===e)?.label??null;this.provvigioniList=this.provvigioniList.map(m=>(m.__owner_id=e,m.__owner_label=s,m)),this.provvigioniList.length===0&&this.provvigioniList.push(this.normalizeProvvigioni(null)),this.activeProvvigioneIndex=0,this.provvigioni=this.provvigioniList[this.activeProvvigioneIndex],this.message=null}catch(i){console.error("Errore loadProvvigioniFor",i),this.message="Errore caricamento provvigioni"}finally{this.loading=!1,this.cdr.markForCheck()}})}selectProvvigione(e){e<0||e>=this.provvigioniList.length||(this.activeProvvigioneIndex=e,this.provvigioni=this.provvigioniList[e],this.cdr.markForCheck())}addNewProvvigione(){let e=this.normalizeProvvigioni(null);e.__isNew=!0,this.provvigioniList.push(e),this.selectProvvigione(this.provvigioniList.length-1),this.isEditing=!0}cancelEdit(){if(!this.provvigioni){this.isEditing=!1;return}this.provvigioni.__isNew&&(this.provvigioniList.splice(this.activeProvvigioneIndex,1),this.activeProvvigioneIndex=Math.max(0,this.provvigioneListLength-1)),this.provvigioni=this.provvigioniList.length?this.provvigioniList[0]:null,this.isEditing=!1,this.cdr.markForCheck()}get provvigioneListLength(){return Array.isArray(this.provvigioniList)?this.provvigioniList.length:0}onUserChange(e){e&&(this.selectedUserId=e,this.loadProvvigioniFor(e))}addPasso(e=5,i=0){(!this.provvigioni.gettone||typeof this.provvigioni.gettone!="object")&&(this.provvigioni.gettone={per_contratto:0,passi:[]}),Array.isArray(this.provvigioni.gettone.passi)||(this.provvigioni.gettone.passi=[]);let n=Object.assign({__uid:this.makeUid()},{soglia:e,bonus:i});this.provvigioni.gettone.passi.push(n),this.cdr.markForCheck()}trackByPasso(e,i){return i&&i.__uid?i.__uid:e}removePasso(e){this.provvigioni.gettone?.passi&&this.provvigioni.gettone.passi.splice(e,1)}save(){return S(this,null,function*(){let e=this.selectedUserId??this.userId;if(!e){this.message="Utente non selezionato";return}if(!this.isAdmin&&e!==this.userId){this.message="Permesso negato";return}this.saving=!0,this.message=null;try{yield this.auth.ensureAuthInitialized();let i=this.provvigioniList,{data:n,error:t}=yield this.supabaseService.updateAppUser(e,{provvigioni:i});if(t)throw t;this.provvigioniList=this.provvigioniList.map(s=>(s&&s.__isNew&&delete s.__isNew,s)),this.isEditing=!1,this.message="Impostazioni salvate"}catch(i){console.error("Errore salvataggio provvigioni",i),this.message=i?.message?`Errore: ${i.message}`:"Errore salvataggio"}finally{this.saving=!1,this.cdr.markForCheck()}})}getUserLabel(e){if(!e)return"";let i=this.users.find(n=>n.id===e);return i&&i.label?i.label:(this.fetchAndCacheUserLabel(e),"Caricamento nome...")}fetchAndCacheUserLabel(e){return S(this,null,function*(){if(!(!e||this.fetchingLabels.has(e))){this.fetchingLabels.add(e);try{let{data:i,error:n}=yield this.supabaseService.supabase.from("app_users").select("id, display_name, first_name, last_name, email").eq("id",e).single();if(n){console.error("Errore fetch user",n);return}let t=i||{},s=`${(t.first_name??"").trim()} ${(t.last_name??"").trim()}`.trim(),m=s||(t.display_name&&String(t.display_name).trim()!==""?String(t.display_name):t.email||"\u2014"),x=this.users.findIndex(w=>w.id===e);x>=0?this.users[x]=Object.assign({},this.users[x],t,{label:m}):this.users.push(Object.assign({},t,{id:e,label:m})),this.cdr.markForCheck()}catch(i){console.error("Errore fetchAndCacheUserLabel",i)}finally{this.fetchingLabels.delete(e)}}})}makeUid(){return"i"+Date.now().toString(36)+Math.floor(Math.random()*1e4).toString(36)}addImporto(e="Importo per contratto",i=0){(!this.provvigioni.gettone||typeof this.provvigioni.gettone!="object")&&(this.provvigioni.gettone={per_contratto:0,importi:[],passi:[]}),Array.isArray(this.provvigioni.gettone.importi)||(this.provvigioni.gettone.importi=[]);let n=Object.assign({__uid:this.makeUid()},{titolo:e,importo:i});this.provvigioni.gettone.importi.push(n),this.cdr.markForCheck()}normalizeProvvigioni(e){return e?(e=JSON.parse(JSON.stringify(e)),(!e.gettone||typeof e.gettone!="object")&&(e.gettone={per_contratto:0,importi:[],passi:[]}),Array.isArray(e.gettone.importi)||(e.gettone.importi=[]),Array.isArray(e.gettone.passi)||(e.gettone.passi=[]),e.gettone.importi=e.gettone.importi.map(i=>(i.__uid||(i.__uid=this.makeUid()),i)),(e.gettone.per_contratto||e.gettone.per_contratto===0)&&e.gettone.importi.length===0&&e.gettone.importi.push({__uid:this.makeUid(),titolo:"Importo per contratto",importo:Number(e.gettone.per_contratto||0)}),e.percentuale||(e.percentuale={percent:0}),e):{tipo:"gettone",gettone:{per_contratto:0,importi:[{__uid:this.makeUid(),titolo:"Importo per contratto",importo:0}],passi:[]},percentuale:{percent:0},abilitato:!0,note:""}}removeImporto(e){this.provvigioni.gettone?.importi&&(this.provvigioni.gettone.importi.splice(e,1),this.cdr.markForCheck())}trackByImporto(e,i){return i&&i.__uid?i.__uid:e}productName(e){if(!e)return"Nessun prodotto";let i=this.prodotti.find(n=>n.id===e);return i&&(i.nome??i.id)||e||"Nessun prodotto"}editProvvigione(e){e<0||e>=this.provvigioniList.length||(this.selectProvvigione(e),this.isEditing=!0,delete this.provvigioni.__isNew,this.cdr.markForCheck())}deleteProvvigione(e){return S(this,null,function*(){if(!window.confirm("Confermi l'eliminazione del sistema provvigionale selezionato?")||e<0||e>=this.provvigioneListLength)return;this.provvigioniList.splice(e,1),this.provvigioneListLength===0?(this.provvigioniList.push(this.normalizeProvvigioni(null)),this.activeProvvigioneIndex=0):this.activeProvvigioneIndex=Math.max(0,Math.min(this.activeProvvigioneIndex,this.provvigioneListLength-1)),this.provvigioni=this.provvigioniList[this.activeProvvigioneIndex]??null,this.cdr.markForCheck();let n=this.selectedUserId??this.userId;if(!n){this.message="Utente non selezionato";return}if(!this.isAdmin&&n!==this.userId){this.message="Permesso negato";return}this.saving=!0,this.message=null;try{let t=this.provvigioniList,{data:s,error:m}=yield this.supabaseService.updateAppUser(n,{provvigioni:t});if(m)throw m;this.message="Sistema provvigionale eliminato"}catch(t){console.error("Errore eliminazione provvigione",t),this.message=t?.message?`Errore: ${t.message}`:"Errore eliminazione"}finally{this.saving=!1,this.cdr.markForCheck()}})}static \u0275fac=function(i){return new(i||r)(I(R),I(D),I(J))};static \u0275cmp=O({type:r,selectors:[["app-sistema-provvigionale"]],decls:15,vars:2,consts:[["loadingTpl",""],["previewOnly",""],["readonlyUser",""],["emptyList",""],[1,"form-section"],[1,"section-header"],[1,"material-icons","header-icon"],[1,"section-titles"],[1,"section-title"],[1,"sottotitolo"],[2,"display","flex","gap","0.75rem","align-items","center","margin-bottom","1rem","flex-wrap","wrap"],["type","button",1,"promethea-button","ghost",3,"click"],[4,"ngIf","ngIfElse"],[1,"form-field",2,"margin-bottom","1rem"],[1,"form-label"],[1,"form-field",2,"margin-bottom","0.5rem"],[3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"hint"],[1,"form-field"],[3,"ngModelChange","ngModel"],["value","gettone"],["value","percentuale"],[4,"ngIf"],[1,"actions-container",2,"margin-top","1rem"],[1,"promethea-button",3,"click","disabled"],["type","button",1,"promethea-button","ghost",2,"margin-left","0.5rem",3,"click","disabled"],["style","margin-left:1rem;color:var(--success-color)",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"readonly-field"],["style","display:flex; gap:0.5rem; align-items:center; margin-bottom:0.375rem;",4,"ngFor","ngForOf","ngForTrackBy"],[2,"margin-top","0.5rem"],["type","button",1,"promethea-button",3,"click"],[1,"hint",2,"margin-top","0.5rem"],[2,"display","flex","gap","0.5rem","align-items","center","margin-bottom","0.375rem"],["type","text","placeholder","Titolo (es. contratti mensili)",2,"flex","1",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","placeholder","\u20AC",2,"width","120px",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","placeholder","Soglia (n contratti)",3,"ngModelChange","ngModel"],["type","number","placeholder","Bonus \u20AC",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[2,"margin-left","1rem","color","var(--success-color)"],["class","form-field",4,"ngIf","ngIfElse"],[1,"section-title",2,"margin-top","var(--gutter-lg)"],["class","card provvigione-preview","style","position:relative;",4,"ngIf"],[1,"card","provvigione-preview",2,"position","relative"],[2,"display","flex","justify-content","space-between","align-items","flex-start","gap","1rem"],[2,"flex","1","min-width","0"],[2,"font-weight","700"],[2,"font-size","0.85rem","color","var(--text-color)","opacity","0.9","margin-top","0.5rem"],[2,"margin-top","0.75rem"],[2,"display","flex","flex-direction","column","gap","0.5rem","align-items","flex-end"],[2,"display","flex","gap","0.5rem","align-items","center"],["type","button","title","Elimina sistema",1,"icon-btn","close",3,"click"],[1,"chip"],[1,"loading"]],template:function(i,n){if(i&1){let t=P();a(0,"div",4)(1,"div",5)(2,"div",6),l(3,"attach_money"),o(),a(4,"div",7)(5,"h1",8),l(6,"Sistema provvigionale"),o(),a(7,"div",9),l(8,"Configura i sistemi provvigionali aziendali e crea nuovi sistemi"),o()()(),a(9,"div",10)(10,"button",11),u("click",function(){return d(t),p(n.addNewProvvigione())}),l(11," Aggiungi sistema "),o()(),_(12,ue,4,2,"div",12)(13,he,2,0,"ng-template",null,0,E),o()}if(i&2){let t=b(14);v(12),g("ngIf",!n.loading)("ngIfElse",t)}},dependencies:[j,W,B,Z,Q,X,q,H,K,G,Y],styles:[".provvigione-compact[_ngcontent-%COMP%]   .icon-btn.close[_ngcontent-%COMP%], .provvigione-preview[_ngcontent-%COMP%]   .icon-btn.close[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;font-size:1rem;display:inline-grid;place-items:center;padding:0;background:transparent;border:1px solid var(--smoke-color-1);color:var(--text-color)}.provvigione-compact[_ngcontent-%COMP%]   .icon-btn.close[_ngcontent-%COMP%]:hover, .provvigione-preview[_ngcontent-%COMP%]   .icon-btn.close[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--primary) 10%,transparent);color:var(--primary)}.provvigione-compact[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{margin-top:.25rem}.provvigione-compact[_ngcontent-%COMP%]   .promethea-button[_ngcontent-%COMP%]{height:36px;padding:0 .75rem}.provvigione-preview[_ngcontent-%COMP%]{padding:calc(var(--gutter-lg) + .25rem)}"]})};export{$ as SistemaProvvigionale};
